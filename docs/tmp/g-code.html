<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.0rc2" />
<title>G Codes</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>G Codes</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="cha:g-codes">1. Conventions</h2>
<div class="sectionbody">
<div class="paragraph"><p>Conventions used in this section</p></div>
<div class="paragraph"><p>In the G code prototypes the hyphen (<em>-</em>) stands for a real value
and (<em>&lt;&gt;</em>) denotes an optional item.</p></div>
<div class="paragraph"><p>If <em>L-</em> is written in a prototype the <em>-</em> will often be referred to
as the <em>L number</em>, and so on for any other letter.</p></div>
<div class="paragraph"><p>In the G code prototypes the word <em>axes</em> stands for any axis as defined
in your configuration.</p></div>
<div class="paragraph"><p>An optional value will be written like this <em>&lt;L- &gt;</em>.</p></div>
<div class="paragraph"><p>A real value may be:</p></div>
<div class="ulist"><ul>
<li>
<p>
An explicit number, <em>4</em>
</p>
</li>
<li>
<p>
An expression, <em>[2+2]</em>
</p>
</li>
<li>
<p>
A parameter value, <em>#88</em>
</p>
</li>
<li>
<p>
A unary function value, <em>acos[0]</em>
</p>
</li>
</ul></div>
<div class="paragraph"><p>In most cases, if <em>axis</em> words are given
(any or all of <em>X Y Z A B C U V W</em>),
they specify a destination point.</p></div>
<div class="paragraph"><p>Axis numbers are in the currently active coordinate system,
unless explicitly described as being
in the absolute coordinate system.</p></div>
<div class="paragraph"><p>Where axis words are optional, any omitted axes will retain their original value.</p></div>
<div class="paragraph"><p>Any items in the G code prototypes not explicitly described as
optional are required.</p></div>
<div class="paragraph"><p>The values following letters are often given as explicit numbers.
Unless stated otherwise, the explicit numbers can be real values. For
example, <em>G10 L2</em> could equally well be written <em>G[2*5] L[1+1]</em>. If the
value of parameter 100 were 2, <em>G10 L#100</em> would also mean the same.</p></div>
<div class="paragraph"><p>If <em>L-</em> is written in a prototype the <em>-</em> will often be referred to
as the <em>L number</em>, and so on for any other letter.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_g_code_quick_reference_table_a_id_gcode_quick_reference_table_a">2. G Code Quick Reference Table<a id="gcode:quick-reference-table"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="tableblock">
<table rules="all"
width="75%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="28%" />
<col width="71%" />
<thead>
<tr>
<th align="center" valign="top">Code                               </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g0">G0</a></p></td>
<td align="left" valign="top"><p class="table">Coordinated Motion at Rapid Rate</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g1">G1</a></p></td>
<td align="left" valign="top"><p class="table">Coordinated Motion at Feed Rate</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g2-g3">G2 G3</a></p></td>
<td align="left" valign="top"><p class="table">Coordinated Helical Motion at Feed Rate</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g4">G4</a></p></td>
<td align="left" valign="top"><p class="table">Dwell</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g5">G5</a></p></td>
<td align="left" valign="top"><p class="table">Cubic Spline</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g5.1">G5.1</a></p></td>
<td align="left" valign="top"><p class="table">Quadratic B-Spline</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g5.2-g5.3">G5.2</a></p></td>
<td align="left" valign="top"><p class="table">NURBS, add control point</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g7">G7</a></p></td>
<td align="left" valign="top"><p class="table">Diameter Mode (lathe)</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g8">G8</a></p></td>
<td align="left" valign="top"><p class="table">Radius Mode (lathe)</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g10-l1">G10 L1</a></p></td>
<td align="left" valign="top"><p class="table">Set Tool Table Entry</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g10-l10">G10 L10</a></p></td>
<td align="left" valign="top"><p class="table">Set Tool Table, Calculated, Workpiece</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g10-l11">G10 L11</a></p></td>
<td align="left" valign="top"><p class="table">Set Tool Table, Calculated, Fixture</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g10-l2">G10 L2</a></p></td>
<td align="left" valign="top"><p class="table">Coordinate System Origin Setting</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g10-l20">G10 L20</a></p></td>
<td align="left" valign="top"><p class="table">Coordinate System Origin Setting Calculated</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g17-g19.1">G17 - G19.1</a></p></td>
<td align="left" valign="top"><p class="table">Plane Select</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g20-g21">G20 G21</a></p></td>
<td align="left" valign="top"><p class="table">Set Units of Measure</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g28-g28.1">G28 - G28.1</a></p></td>
<td align="left" valign="top"><p class="table">Go to Predefined Position</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g30-g30.1">G30 - G30.1</a></p></td>
<td align="left" valign="top"><p class="table">Go to Predefined Position</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g33">G33</a></p></td>
<td align="left" valign="top"><p class="table">Spindle Synchronized Motion</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g33.1">G33.1</a></p></td>
<td align="left" valign="top"><p class="table">Rigid Tapping</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g38">G38.2 - G38.5</a></p></td>
<td align="left" valign="top"><p class="table">Probing</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g40">G40</a></p></td>
<td align="left" valign="top"><p class="table">Cancel Cutter Compensation</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g41-g42">G41 G42</a></p></td>
<td align="left" valign="top"><p class="table">Cutter Compensation</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g41.1-g42.1">G41.1 G42.1</a></p></td>
<td align="left" valign="top"><p class="table">Dynamic Cutter Compensation</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g43">G43</a></p></td>
<td align="left" valign="top"><p class="table">Use Tool Length Offset from Tool Table</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g43.1">G43.1</a></p></td>
<td align="left" valign="top"><p class="table">Dynamic Tool Length Offset</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g43.2">G43.2</a></p></td>
<td align="left" valign="top"><p class="table">Apply additional Tool Length Offset</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g49">G49</a></p></td>
<td align="left" valign="top"><p class="table">Cancel Tool Length Offset</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g52">G52</a></p></td>
<td align="left" valign="top"><p class="table">Local Coordinate System Offset</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g53">G53</a></p></td>
<td align="left" valign="top"><p class="table">Move in Machine Coordinates</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g54-g59.3">G54-G59.3</a></p></td>
<td align="left" valign="top"><p class="table">Select Coordinate System (1 - 9)</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g61">G61</a></p></td>
<td align="left" valign="top"><p class="table">Exact Path Mode</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g61.1">G61.1</a></p></td>
<td align="left" valign="top"><p class="table">Exact Stop Mode</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g64">G64</a></p></td>
<td align="left" valign="top"><p class="table">Path Control Mode with Optional Tolerance</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g70">G70</a></p></td>
<td align="left" valign="top"><p class="table">Lathe finishing cycle</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g71-g72">G71-G72</a></p></td>
<td align="left" valign="top"><p class="table">Lathe roughing cycle</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g73">G73</a></p></td>
<td align="left" valign="top"><p class="table">Drilling Cycle with Chip Breaking</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g74">G74</a></p></td>
<td align="left" valign="top"><p class="table">Left-hand Tapping Cycle with Dwell</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g76">G76</a></p></td>
<td align="left" valign="top"><p class="table">Multi-pass Threading Cycle (Lathe)</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g80">G80</a></p></td>
<td align="left" valign="top"><p class="table">Cancel Motion Modes</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g81">G81</a></p></td>
<td align="left" valign="top"><p class="table">Drilling Cycle</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g82">G82</a></p></td>
<td align="left" valign="top"><p class="table">Drilling Cycle with Dwell</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g83">G83</a></p></td>
<td align="left" valign="top"><p class="table">Drilling Cycle with Peck</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g84">G84</a></p></td>
<td align="left" valign="top"><p class="table">Right-hand Tapping Cycle with Dwell</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g85">G85</a></p></td>
<td align="left" valign="top"><p class="table">Boring Cycle, No Dwell, Feed Out</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g86">G86</a></p></td>
<td align="left" valign="top"><p class="table">Boring Cycle, Stop, Rapid Out</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g89">G89</a></p></td>
<td align="left" valign="top"><p class="table">Boring Cycle, Dwell, Feed Out</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g90-g91">G90 G91</a></p></td>
<td align="left" valign="top"><p class="table">Distance Mode</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g90.1-g91.1">G90.1 G91.1</a></p></td>
<td align="left" valign="top"><p class="table">Arc Distance Mode</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g92">G92</a></p></td>
<td align="left" valign="top"><p class="table">Coordinate System Offset</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g92.1-g92.2">G92.1 G92.2</a></p></td>
<td align="left" valign="top"><p class="table">Cancel G92 Offsets</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g92.3">G92.3</a></p></td>
<td align="left" valign="top"><p class="table">Restore G92 Offsets</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g93-g94-g95">G93 G94 G95</a></p></td>
<td align="left" valign="top"><p class="table">Feed Modes</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g96-g97">G96</a></p></td>
<td align="left" valign="top"><p class="table">Spindle Control Mode</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><a href="g-code.html#gcode:g98-g99">G98 G99</a></p></td>
<td align="left" valign="top"><p class="table">Canned Cycle Z Retract Mode</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g0">3. G0 Rapid Move</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G0 axes</code></pre>
</div></div>
<div class="paragraph"><p>For rapid motion, program <em>G0 axes</em>, where all the axis words are optional.
The <em>G0</em> is optional if the current motion mode is <em>G0</em>. This will produce
coordinated motion to the destination point at the maximum rapid rate
(or slower). <em>G0</em> is typically used as a positioning move.</p></div>
<div class="sect2">
<h3 id="_rapid_velocity_rate">3.1. Rapid Velocity Rate</h3>
<div class="paragraph"><p>The MAX_VELOCITY setting in the ini file [TRAJ] section defines the maximum
rapid traverse rate. The maximum rapid traverse rate can be higher than the
individual axes MAX_VELOCITY setting during a coordinated move. The maximum
rapid traverse rate can be slower than the MAX_VELOCITY setting in the [TRAJ]
section if an axis MAX_VELOCITY or trajectory constraints limit it.</p></div>
<div class="listingblock">
<div class="title">G0 Example</div>
<div class="content">
<pre><code>G90 (set absolute distance mode)
G0 X1 Y-2.3 (Rapid linear move from current location to X1 Y-2.3)
M2 (end program)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g90-g91">G90</a> &amp; <a href="m-code.html#mcode:m2-m30">M2</a> sections for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If cutter compensation is active, the motion will differ from
the above; see the <a href="tool-compensation.html#sec:cutter-compensation">Cutter Compensation</a> Section.</p></div>
<div class="paragraph"><p>If <em>G53</em> is programmed on the same line, the motion will also differ;
see the <a href="g-code.html#gcode:g53">G53</a> Section for more information.</p></div>
<div class="paragraph"><p>The path of a G0 rapid motion can be rounded at direction changes and depends
on the <a href="../user/user-concepts.html#sec:trajectory-control">trajectory control</a> settings and maximum
acceleration of the axes.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
An axis letter is without a real value.
</p>
</li>
<li>
<p>
An axis letter is used that is not configured
</p>
</li>
</ul></div>
<div class="paragraph"><p><a id="gcode:g1"></a></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_g1_linear_move">4. G1 Linear Move</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><code>G1 axes</code></pre>
</div></div>
<div class="paragraph"><p>For linear (straight line) motion at programmed <a href="other-code.html#sec:set-feed-rate">feed rate</a>
(for cutting or not), program <em>G1 'axes</em>', where all the axis words are
optional. The <em>G1</em> is optional if the current motion mode is <em>G1</em>. This will
produce coordinated motion to the destination point at the current feed
rate (or slower).</p></div>
<div class="listingblock">
<div class="title">G1 Example</div>
<div class="content">
<pre><code>G90 (set absolute distance mode)
G1 X1.2 Y-3 F10 (linear move at a feed rate of 10 from current position to X1.2 Y-3)
Z-2.3 (linear move at same feed rate from current position to Z-2.3)
Z1 F25 (linear move at a feed rate of 25 from current position to Z1)
M2 (end program)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g90-g91">G90</a> &amp; <a href="other-code.html#sec:set-feed-rate">F</a> &amp; <a href="m-code.html#mcode:m2-m30">M2</a> sections
for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If cutter compensation is active, the motion will differ from
the above; see the <a href="tool-compensation.html#sec:cutter-compensation">Cutter Compensation</a> Section.</p></div>
<div class="paragraph"><p>If <em>G53</em> is programmed on the same line, the motion will also differ;
see the <a href="g-code.html#gcode:g53">G53</a> Section for more information.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
No feed rate has been set.
</p>
</li>
<li>
<p>
An axis letter is without a real value.
</p>
</li>
<li>
<p>
An axis letter is used that is not configured
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g2-g3">5. G2, G3 Arc Move</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G2 or G3 axes offsets (center format)
G2 or G3 axes R- (radius format)
G2 or G3 offsets|R- &lt;P-&gt; (full circles)</code></pre>
</div></div>
<div class="paragraph"><p>A circular or helical arc is specified using either <em>G2</em> (clockwise
arc) or <em>G3</em> (counterclockwise arc) at the current
<a href="other-code.html#sec:set-feed-rate">feed rate</a>. The direction (CW, CCW) is as viewed from the
positive end of the axis about which the circular motion occurs.</p></div>
<div class="paragraph"><p>The axis of the circle or helix must be parallel to the
X, Y, or Z axis of the machine coordinate system.
The axis (or, equivalently, the plane perpendicular to the axis)
is selected with <em>G17</em> (Z-axis, XY-plane),
<em>G18</em> (Y-axis, XZ-plane), or <em>G19</em> (X-axis, YZ-plane).
Planes <em>17.1</em>, <em>18.1</em>, and <em>19.1</em> are not currently supported.
If the arc is circular,
it lies in a plane parallel to the selected plane.</p></div>
<div class="paragraph"><p>To program a helix, include the axis word perpendicular to the arc
plane, for example, if in the <em>G17</em> plane, include a <em>Z</em> word. This
will cause the <em>Z</em> axis to move to the programmed value during the
circular <em>XY</em> motion.</p></div>
<div class="paragraph"><p>To program an arc that gives more than one full turn, use the <em>P</em> word
specifying the number of full turns plus the programmed arc. The <em>P</em> word
must be an integer. If <em>P</em> is unspecified, the behavior is as if <em>P1</em> was
given that is, only one full or partial turn will result. For example, if a
180 degree arc is programmed with a P2, the resulting motion will be 1 1/2
rotations. For each P increment above 1 an extra full circle is added to the
programmed arc. Multi turn helical arcs are supported and give motion useful
for milling holes or threads.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">If the pitch of the helix is very small (less than the
<a href="../user/user-concepts.html#programming-the-planner">naive CAM tolerance</a> then
the helix might be converted into a straight line.
<a href="https://github.com/LinuxCNC/linuxcnc/issues/222">Bug #222</a></td>
</tr></table>
</div>
<div class="paragraph"><p>If a line of code makes an arc and includes rotary axis motion,
the rotary axes turn at a constant rate so that the rotary
motion starts and finishes when the XYZ motion starts and finishes.
Lines of this sort are hardly ever programmed.</p></div>
<div class="paragraph"><p>If cutter compensation is active, the motion will differ from
the above; see the <a href="tool-compensation.html#sec:cutter-compensation">Cutter Compensation</a> Section.</p></div>
<div class="paragraph"><p>The arc center is absolute or relative as set by <a href="g-code.html#gcode:g90.1-g91.1">G90.1 or G91.1</a> respectively.</p></div>
<div class="paragraph"><p>Two formats are allowed for specifying an arc:
Center Format and Radius Format.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
No feed rate has been set.
</p>
</li>
<li>
<p>
The P word is not an integer.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_center_format_arcs">5.1. Center Format Arcs</h3>
<div class="paragraph"><p>Center format arcs are more accurate than radius format arcs and are
the preferred format to use.</p></div>
<div class="paragraph"><p>The end point of the arc along with the offset to the center of the
arc from the current location are used to program arcs that are less
than a full circle. It is OK if the end point of the arc is the same
as the current location.</p></div>
<div class="paragraph"><p>The offset to the center of the arc from the current location and
optionally the number of turns are used to program full circles.</p></div>
<div class="paragraph"><p>When programming arcs an error due to rounding can result from using a
precision of less than 4 decimal places (0.0000) for inch and less than
3 decimal places (0.000) for millimeters.</p></div>
<div class="paragraph"><div class="title">Incremental Arc Distance Mode</div><p>Arc center offsets are a relative distance from the start location of the arc.
Incremental Arc Distance Mode is default.</p></div>
<div class="paragraph"><p>One or more axis words and one or more offsets must be programmed for an
arc that is less than 360 degrees.</p></div>
<div class="paragraph"><p>No axis words and one or more offsets must be programmed for full circles.
The <em>P</em> word defaults to 1 and is optional.</p></div>
<div class="paragraph"><p>For more information on 'Incremental Arc Distance Mode see the
<a href="g-code.html#gcode:g90.1-g91.1">G91.1</a> section.</p></div>
<div class="paragraph"><div class="title">Absolute Arc Distance Mode</div><p>Arc center offsets are the absolute distance from the current 0 position of the axis.</p></div>
<div class="paragraph"><p>One or more axis words and <em>both</em> offsets must be programmed for arcs
less than 360 degrees.</p></div>
<div class="paragraph"><p>No axis words and both offsets must be programmed for full circles.
The <em>P</em> word defaults to 1 and is optional.</p></div>
<div class="paragraph"><p>For more information on 'Absolute Arc Distance Mode see the
<a href="g-code.html#gcode:g90.1-g91.1">G90.1</a> section.</p></div>
<div class="listingblock">
<div class="title">XY-plane (G17)</div>
<div class="content">
<pre><code>G2 or G3 &lt;X- Y- Z- I- J- P-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>Z</em> - helix
</p>
</li>
<li>
<p>
<em>I</em> - X offset
</p>
</li>
<li>
<p>
<em>J</em> - Y offset
</p>
</li>
<li>
<p>
<em>P</em> - number of turns
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">XZ-plane (G18)</div>
<div class="content">
<pre><code>G2 or G3 &lt;X- Z- Y- I- K- P-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>Y</em> - helix
</p>
</li>
<li>
<p>
<em>I</em> - X offset
</p>
</li>
<li>
<p>
<em>K</em> - Z offset
</p>
</li>
<li>
<p>
<em>P</em> - number of turns
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">YZ-plane (G19)</div>
<div class="content">
<pre><code>G2 or G3 &lt;Y- Z- X- J- K- P-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>X</em> - helix
</p>
</li>
<li>
<p>
<em>J</em> - Y offset
</p>
</li>
<li>
<p>
<em>K</em> - Z offset
</p>
</li>
<li>
<p>
<em>P</em> - number of turns
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
No feed rate is set with the <a href="other-code.html#sec:set-feed-rate">F</a> word.
</p>
</li>
<li>
<p>
No offsets are programmed.
</p>
</li>
<li>
<p>
When the arc is projected on the selected plane, the distance from
  the current point to the center differs from the distance from the end
  point to the center by more than (.05 inch/.5 mm)
  OR ((.0005 inch/.005mm) AND .1% of radius).
</p>
</li>
</ul></div>
<div class="paragraph"><p>Deciphering the Error message <em>Radius to end of arc differs from radius to start:</em></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>start</em> - the current position
</p>
</li>
<li>
<p>
<em>center</em> - the center position as calculated using the i, j, or k words
</p>
</li>
<li>
<p>
<em>end</em> - the programmed end point
</p>
</li>
<li>
<p>
<em>r1</em> - radius from the start position to the center
</p>
</li>
<li>
<p>
<em>r2</em> - radius from the end position to the center
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_center_format_examples">5.2. Center Format Examples</h3>
<div class="paragraph"><p>Calculating arcs by hand can be difficult at times. One option is to
draw the arc with a cad program to get the coordinates and offsets.
Keep in mind the tolerance mentioned above, you may have to change the
precision of your cad program to get the desired results. Another
option is to calculate the coordinates and offset using formulas. As
you can see in the following figures a triangle can be formed from the
current position the end position and the arc center.</p></div>
<div class="paragraph"><p>In the following figure you can see the start position is X0 Y0, the
end position is X1 Y1. The arc center position is at X1 Y0. This gives
us an offset from the start position of 1 in the X axis and 0 in the Y
axis. In this case only an I offset is needed.</p></div>
<div class="listingblock">
<div class="title">G2 Example Line</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">G2</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">1</span> <span style="color: #FF6600">Y</span><span style="color: #993399">1</span> <span style="color: #FF6600">I</span><span style="color: #993399">1</span> <span style="font-weight: bold"><span style="color: #0000FF">F10 </span></span><span style="font-style: italic"><span style="color: #9A1900">(clockwise arc in the XY plane)</span></span></tt></pre></div></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g2_en.svg" alt="G2 Example" />
</div>
<div class="title">Figure 1. G2 Example</div>
</div>
<div class="paragraph"><p>In the next example we see the difference between the offsets for Y if
we are doing a G2 or a G3 move. For the G2 move the start position is
X0 Y0, for the G3 move it is X0 Y1. The arc center is at X1 Y0.5 for
both moves. The G2 move the J offset is 0.5 and the G3 move the J
offset is -0.5.</p></div>
<div class="listingblock">
<div class="title">G2-G3 Example Line</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">G2</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">1</span> <span style="color: #FF6600">I</span><span style="color: #993399">1</span> <span style="color: #FF6600">J</span><span style="color: #993399">0.5</span> <span style="font-weight: bold"><span style="color: #0000FF">F25 </span></span><span style="font-style: italic"><span style="color: #9A1900">(clockwise arc in the XY plane)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G3</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="color: #FF6600">I</span><span style="color: #993399">1</span> <span style="color: #FF6600">J</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">0.5</span> <span style="font-weight: bold"><span style="color: #0000FF">F25 </span></span><span style="font-style: italic"><span style="color: #9A1900">(counterclockwise arc in the XY plane)</span></span></tt></pre></div></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g2-3_en.svg" alt="G2-G3 Example" />
</div>
<div class="title">Figure 2. G2-G3 Example</div>
</div>
<div class="paragraph"><p>In the next example we show how the arc can make a helix in the Z axis
by adding the Z word.</p></div>
<div class="listingblock">
<div class="title">G2 Example Helix</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="color: #FF6600">Z</span><span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">G17</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G2</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">10</span> <span style="color: #FF6600">Y</span><span style="color: #993399">16</span> <span style="color: #FF6600">I</span><span style="color: #993399">3</span> <span style="color: #FF6600">J</span><span style="color: #993399">4</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">1</span> <span style="font-style: italic"><span style="color: #9A1900">(helix arc with Z added)</span></span></tt></pre></div></div>
<div class="paragraph"><p>In the next example we show how to make more than one turn using the P word.</p></div>
<div class="listingblock">
<div class="title">P word Example</div>
<div class="content">
<pre><code>G0 X0 Y0 Z0
G2 X0 Y1 Z-1 I1 J0.5 P2 F25</code></pre>
</div></div>
<div class="paragraph"><p>In the center format, the radius of the arc is not specified, but it
may be found easily as the distance from the center of the circle to
either the current point or the end point of the arc.</p></div>
</div>
<div class="sect2">
<h3 id="_radius_format_arcs">5.3. Radius Format Arcs</h3>
<div class="listingblock">
<div class="content">
<pre><code>G2 or G3 axes R- &lt;P-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>R</em> - radius from current position
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is not good practice to program radius format arcs that are nearly
full circles or nearly semicircles because a small change in the
location of the end point will produce a much larger change in the
location of the center of the circle (and, hence, the middle of the
arc). The magnification effect is large enough that rounding error in a
number can produce out-of-tolerance cuts. For instance, a 1%
displacement of the endpoint of a 180 degree arc produced a 7%
displacement of the point 90 degrees along the arc. Nearly full circles
are even worse. Other size arcs (in the range tiny to 165 degrees or
195 to 345 degrees) are OK.</p></div>
<div class="paragraph"><p>In the radius format, the coordinates of the end point of the arc in
the selected plane are specified along with the radius of the arc.
Program <em>G2</em> <em>axes</em> <em>R-</em> (or use <em>G3</em> instead of <em>G2</em> ). R is the
radius. The axis words are all optional except that at
least one of the two words for the axes in the selected plane must be
used. The R number is the radius. A positive radius indicates that the
arc turns through less than 180 degrees, while a negative radius
indicates a turn of more than 180 degrees. If the arc is helical, the
value of the end point of the arc on the coordinate axis parallel to
the axis of the helix is also specified.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
both of the axis words for the axes of the selected plane are omitted
</p>
</li>
<li>
<p>
the end point of the arc is the same as the current point.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G2 Example Line</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G17</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G2</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">10</span> <span style="color: #FF6600">Y</span><span style="color: #993399">15</span> <span style="color: #FF6600">R</span><span style="color: #993399">20</span> <span style="color: #FF6600">Z</span><span style="color: #993399">5</span> <span style="font-style: italic"><span style="color: #9A1900">(radius format with arc)</span></span></tt></pre></div></div>
<div class="paragraph"><p>The above example makes a clockwise (as viewed from the positive Z-axis)
circular or helical arc whose axis is parallel to the Z-axis, ending
where X=10, Y=15, and Z=5, with a radius of 20. If the starting value
of Z is 5, this is an arc of a circle parallel to the XY-plane;
otherwise it is a helical arc.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g4">6. G4 Dwell</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G4 P-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - seconds to dwell (floating point)
</p>
</li>
</ul></div>
<div class="paragraph"><p>The P number is the time in seconds that all axes will remain unmoving.
The P number is a floating point number so fractions of a second may be used.
G4 does not affect spindle, coolant and any I/O.</p></div>
<div class="listingblock">
<div class="title">G4 Example Line</div>
<div class="content">
<pre><code>G4 P0.5 (wait for 0.5 seconds before proceeding)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the P number is negative or not specified.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g5">7. G5 Cubic Spline</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G5 X- Y- &lt;I- J-&gt; P- Q-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>I</em> - X incremental offset from start point to first control point
</p>
</li>
<li>
<p>
<em>J</em> - Y incremental offset from start point to first control point
</p>
</li>
<li>
<p>
<em>P</em> - X incremental offset from end point to second control point
</p>
</li>
<li>
<p>
<em>Q</em> - Y incremental offset from end point to second control point
</p>
</li>
</ul></div>
<div class="paragraph"><p>G5 creates a cubic B-spline in the XY plane with the X and Y axes only.
P and Q must both be specified for every G5 command.</p></div>
<div class="paragraph"><p>For the first G5 command in a series of G5 commands, I and J must both
be specified.  For subsequent G5 commands, either both I and J must be
specified, or neither.  If I and J are unspecified, the starting
direction of this cubic will automatically match the ending direction of
the previous cubic (as if I and J are the negation of the previous P and
Q).</p></div>
<div class="paragraph"><p>For example, to program a curvy N shape:</p></div>
<div class="listingblock">
<div class="title">G5 Sample initial cubic spline</div>
<div class="content">
<pre><code>G90 G17
G0 X0 Y0
G5 I0 J3 P0 Q-3 X1 Y1</code></pre>
</div></div>
<div class="paragraph"><p>A second curvy N that attaches smoothly to this one can now be made
without specifying I and J:</p></div>
<div class="listingblock">
<div class="title">G5 Sample subsequent cubic spline</div>
<div class="content">
<pre><code>G5 P0 Q-3 X2 Y2</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
P and Q are not both specified
</p>
</li>
<li>
<p>
Just one of I or J are specified
</p>
</li>
<li>
<p>
I or J are unspecified in the first of a series of G5 commands
</p>
</li>
<li>
<p>
An axis other than X or Y is specified
</p>
</li>
<li>
<p>
The active plane is not G17
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g5.1">8. G5.1 Quadratic Spline</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G5.1 X- Y- I- J-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>I</em> - X incremental offset from start point to control point
</p>
</li>
<li>
<p>
<em>J</em> - Y incremental offset from start point to control point
</p>
</li>
</ul></div>
<div class="paragraph"><p>G5.1 creates a quadratic B-spline in the XY plane with the X and Y axis
only.  Not specifying I or J gives zero offset for the unspecified axis,
so one or both must be given.</p></div>
<div class="paragraph"><p>For example, to program a parabola, through the origin, from X-2 Y4 to X2 Y4:</p></div>
<div class="listingblock">
<div class="title">G5.1 Sample quadratic spline</div>
<div class="content">
<pre><code>G90 G17
G0 X-2 Y4
G5.1 X2 I2 J-8</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
both I and J offset are unspecified or zero
</p>
</li>
<li>
<p>
An axis other than X or Y is specified
</p>
</li>
<li>
<p>
The active plane is not G17
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g5.2-g5.3">9. G5.2 G5.3 NURBS Block</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G5.2 &lt;P-&gt; &lt;X- Y-&gt; &lt;L-&gt;
X- Y- &lt;P-&gt;
...
G5.3</code></pre>
</div></div>
<div class="paragraph"><p>Warning: G5.2, G5.3 is experimental and not fully tested.</p></div>
<div class="paragraph"><p>G5.2 is for opening the data block defining a NURBS and G5.3 for
closing the data block. In the lines between these two codes the curve
control points are defined with both their related <em>weights</em> (P) and
the parameter (L) which determines the order of the curve.</p></div>
<div class="paragraph"><p>The current coordinate, before the first G5.2 command, is always taken
as the first NURBS control point.  To set the weight for this first
control point, first program G5.2 P- without giving any X Y.</p></div>
<div class="paragraph"><p>The default weight if P is unspecified is 1.  The default order if L is
unspecified is 3.</p></div>
<div class="listingblock">
<div class="title">G5.2 Example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="font-style: italic"><span style="color: #9A1900">(rapid move)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">F10 </span></span><span style="font-style: italic"><span style="color: #9A1900">(set feed rate)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G5</span></span><span style="color: #993399">.2</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span> <span style="color: #FF6600">L</span><span style="color: #993399">3</span>
     <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">1</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span>
     <span style="color: #FF6600">X</span><span style="color: #993399">2</span> <span style="color: #FF6600">Y</span><span style="color: #993399">2</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span>
     <span style="color: #FF6600">X</span><span style="color: #993399">2</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span>
     <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="color: #FF6600">P</span><span style="color: #993399">2</span>
<span style="font-weight: bold"><span style="color: #0000FF">G5</span></span><span style="color: #993399">.3</span>
<span style="font-style: italic"><span style="color: #9A1900">; The rapid moves show the same path without the NURBS Block</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">1</span>
   <span style="color: #FF6600">X</span><span style="color: #993399">2</span> <span style="color: #FF6600">Y</span><span style="color: #993399">2</span>
   <span style="color: #FF6600">X</span><span style="color: #993399">2</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span>
   <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span>
<span style="font-weight: bold"><span style="color: #0000FF">M2</span></span></tt></pre></div></div>
<div class="paragraph"><div class="title">Sample NURBS Output</div><p><span class="image">
<img src="images/nurbs01.png" alt="Sample NURBS Output" />
</span></p></div>
<div class="paragraph"><p>More information on NURBS can be found here:</p></div>
<div class="paragraph"><p><a href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?NURBS">http://wiki.linuxcnc.org/cgi-bin/wiki.pl?NURBS</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g7">10. G7 Lathe Diameter Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G7</code></pre>
</div></div>
<div class="paragraph"><p>Program G7 to enter the diameter mode for axis X on a lathe. When in
the diameter mode the X axis moves on a lathe will be 1/2 the distance
to the center of the lathe. For example X1 would move the cutter to
0.500” from the center of the lathe thus giving a 1” diameter part.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g8">11. G8 Lathe Radius Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G8</code></pre>
</div></div>
<div class="paragraph"><p>Program G8 to enter the radius mode for axis X on a lathe. When in
Radius mode the X axis moves on a lathe will be the distance from the
center. Thus a cut at X1 would result in a part that is 2" in diameter.
G8 is default at power up.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g10-l1">12. G10 L1 Set Tool Table</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G10 L1 P- axes &lt;R- I- J- Q-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - tool number
</p>
</li>
<li>
<p>
<em>R</em> - radius of tool
</p>
</li>
<li>
<p>
<em>I</em> - front angle (lathe)
</p>
</li>
<li>
<p>
<em>J</em> - back angle (lathe)
</p>
</li>
<li>
<p>
<em>Q</em> - orientation (lathe)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G10 L1 sets the tool table for the <em>P</em> tool number to the values of the words.</p></div>
<div class="paragraph"><p>A valid G10 L1 rewrites and reloads the tool table.</p></div>
<div class="listingblock">
<div class="title">G10 L1 Example Line</div>
<div class="content">
<pre><code>G10 L1 P1 Z1.5 (set tool 1 Z offset from the machine origin to 1.5)
G10 L1 P2 R0.015 Q3 (lathe example setting tool 2 radius to 0.015 and orientation to 3)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
Cutter Compensation is on
</p>
</li>
<li>
<p>
The P number is unspecified
</p>
</li>
<li>
<p>
The P number is not a valid tool number from the tool table
</p>
</li>
<li>
<p>
The P number is 0
</p>
</li>
</ul></div>
<div class="paragraph"><p>For more information on cutter orientation used by the <em>Q</em> word,
see the <a href="../lathe/lathe-user.html#lathe-tool-orientation">Lathe Tool Orientation</a> diagram.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g10-l2">13. G10 L2 Set Coordinate System</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G10 L2 P- &lt;axes R-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - coordinate system (0-9)
</p>
</li>
<li>
<p>
<em>R</em> - rotation about the Z axis
</p>
</li>
</ul></div>
<div class="paragraph"><p>G10 L2 offsets the origin of the axes in the coordinate system specified to
the value of the axis word. The offset is from the machine origin established
during homing. The offset value will replace any current offsets in effect for
the coordinate system specified. Axis words not used will not be changed.</p></div>
<div class="paragraph"><p>Program P0 to P9 to specify which coordinate system to change.</p></div>
<div class="tableblock">
<table rules="all"
width="50%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Coordinate System</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="center" valign="top">P Value </th>
<th align="center" valign="top">Coordinate System </th>
<th align="center" valign="top">G code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table">0</p></td>
<td align="center" valign="top"><p class="table">Active</p></td>
<td align="center" valign="top"><p class="table">n/a</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="center" valign="top"><p class="table">G54</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">2</p></td>
<td align="center" valign="top"><p class="table">2</p></td>
<td align="center" valign="top"><p class="table">G55</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">3</p></td>
<td align="center" valign="top"><p class="table">3</p></td>
<td align="center" valign="top"><p class="table">G56</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="center" valign="top"><p class="table">G57</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">5</p></td>
<td align="center" valign="top"><p class="table">5</p></td>
<td align="center" valign="top"><p class="table">G58</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">6</p></td>
<td align="center" valign="top"><p class="table">6</p></td>
<td align="center" valign="top"><p class="table">G59</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">7</p></td>
<td align="center" valign="top"><p class="table">7</p></td>
<td align="center" valign="top"><p class="table">G59.1</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">8</p></td>
<td align="center" valign="top"><p class="table">8</p></td>
<td align="center" valign="top"><p class="table">G59.2</p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table">9</p></td>
<td align="center" valign="top"><p class="table">9</p></td>
<td align="center" valign="top"><p class="table">G59.3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Optionally program R to indicate the rotation of the XY axis around the Z axis.
The direction of rotation is CCW as viewed from the positive end of the Z axis.</p></div>
<div class="paragraph"><p>All axis words are optional.</p></div>
<div class="paragraph"><p>Being in incremental distance mode (<a href="g-code.html#gcode:g90-g91"><em>G91</em></a>) has no effect on <em>G10 L2</em>.</p></div>
<div class="paragraph"><p>Important Concepts:</p></div>
<div class="ulist"><ul>
<li>
<p>
G10 L2 Pn does not change from the current coordinate system to the one specified by P,
  you have to use G54-59.3 to select a coordinate system.
</p>
</li>
<li>
<p>
When a rotation is in effect jogging an axis will only move that axis
  in a positive or negative direction and not along the rotated axis.
</p>
</li>
<li>
<p>
If a <em>G52</em> local offset or <em>G92</em> origin offset was in effect before
  <em>G10 L2</em>, it will continue to be in effect afterwards.
</p>
</li>
<li>
<p>
When programming a coordinate system with R, any <em>G52</em> or <em>G92</em> will
  be applied <strong>after</strong> the rotation.
</p>
</li>
<li>
<p>
The coordinate system whose origin is set by a <em>G10</em> command may be
  active or inactive at the time the <em>G10</em> is executed.
  If it is currently active, the new coordinates take effect immediately.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The P number does not evaluate to an integer in the range 0 to 9.
</p>
</li>
<li>
<p>
An axis is programmed that is not defined in the configuration.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G10 L2 Example Line</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G10</span></span> <span style="color: #FF6600">L</span><span style="color: #993399">2</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span> <span style="color: #FF6600">X</span><span style="color: #993399">3.5</span> <span style="color: #FF6600">Y</span><span style="color: #993399">17.2</span></tt></pre></div></div>
<div class="paragraph"><p>In the above example the origin of the first coordinate system
(the one selected by <em>G54</em>) is set to be X=3.5 and Y=17.2.
Because only X and Y are specified, the origin point is only moved in X and Y;
the other coordinates are not changed.</p></div>
<div class="listingblock">
<div class="title">G10 L2 Example Line</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G10</span></span> <span style="color: #FF6600">L</span><span style="color: #993399">2</span> <span style="color: #FF6600">P</span><span style="color: #993399">1</span> <span style="color: #FF6600">X</span><span style="color: #993399">0</span> <span style="color: #FF6600">Y</span><span style="color: #993399">0</span> <span style="color: #FF6600">Z</span><span style="color: #993399">0</span> <span style="font-style: italic"><span style="color: #9A1900">(clear offsets for X,Y &amp; Z axes in coordinate system 1)</span></span></tt></pre></div></div>
<div class="paragraph"><p>The above example sets the XYZ coordinates of the coordinate system 1 to the machine origin.</p></div>
<div class="paragraph"><p>The coordinate system is described in the <a href="coordinates.html#cha:coordinate-system">Coordinate System</a> Section.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g10-l10">14. G10 L10 Set Tool Table</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G10 L10 P- axes &lt;R- I- J- Q-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - tool number
</p>
</li>
<li>
<p>
<em>R</em> - radius of tool
</p>
</li>
<li>
<p>
<em>I</em> - front angle (lathe)
</p>
</li>
<li>
<p>
<em>J</em> - back angle (lathe)
</p>
</li>
<li>
<p>
<em>Q</em> - orientation (lathe)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G10 L10 changes the tool table entry for tool P so that if the
tool offset is reloaded, with the machine in its current position
and with the current G5x and G52/G92 offsets active, the current coordinates
for the given axes will become the given values. The axes that are
not specified in the G10 L10 command will not be changed. This could be
useful with a probe move as described in the <a href="g-code.html#gcode:g38">G38</a> section.</p></div>
<div class="listingblock">
<div class="title">G10 L10 Example</div>
<div class="content">
<pre><code>T1 M6 G43 (load tool 1 and tool length offsets)
G10 L10 P1 Z1.5 (set the current position for Z to be 1.5)
G43 (reload the tool length offsets from the changed tool table)
M2 (end program)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="other-code.html#sec:select-tool">T</a> &amp; <a href="m-code.html#mcode:m6">M6</a>, and
  <a href="g-code.html#gcode:g43">G43</a>/<a href="g-code.html#gcode:g43.1">G43.1</a> sections for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
Cutter Compensation is on
</p>
</li>
<li>
<p>
The P number is unspecified
</p>
</li>
<li>
<p>
The P number is not a valid tool number from the tool table
</p>
</li>
<li>
<p>
The P number is 0
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g10-l11">15. G10 L11 Set Tool Table</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G10 L11 P- axes &lt;R- I- J- Q-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - tool number
</p>
</li>
<li>
<p>
<em>R</em> - radius of tool
</p>
</li>
<li>
<p>
<em>I</em> - front angle (lathe)
</p>
</li>
<li>
<p>
<em>J</em> - back angle (lathe)
</p>
</li>
<li>
<p>
<em>Q</em> - orientation (lathe)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G10 L11 is just like G10 L10 except that instead of setting the entry
according to the current offsets, it is set so that the current
coordinates would become the given value if the new tool offset
is reloaded and the machine is placed in the G59.3 coordinate
system without any G52/G92 offset active.</p></div>
<div class="paragraph"><p>This allows the user to set the G59.3 coordinate system according to a
fixed point on the machine, and then use that fixture to measure tools
without regard to other currently-active offsets.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
Cutter Compensation is on
</p>
</li>
<li>
<p>
The P number is unspecified
</p>
</li>
<li>
<p>
The P number is not a valid tool number from the tool table
</p>
</li>
<li>
<p>
The P number is 0
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g10-l20">16. G10 L20 Set Coordinate System</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G10 L20 P- axes</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - coordinate system (0-9)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G10 L20 is similar to G10 L2 except that instead of setting the
offset/entry to the given value, it is set to a calculated value that
makes the current coordinates become the given value.</p></div>
<div class="listingblock">
<div class="title">G10 L20 Example Line</div>
<div class="content">
<pre><code>G10 L20 P1 X1.5 (set the X axis current location in coordinate system 1 to 1.5)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The P number does not evaluate to an integer in the range 0 to 9.
</p>
</li>
<li>
<p>
An axis is programmed that is not defined in the configuration.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g17-g19.1">17. G17 - G19.1 Plane Select</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="paragraph"><p>These codes set the current plane as follows:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G17</em> - XY (default)
</p>
</li>
<li>
<p>
<em>G18</em> - ZX
</p>
</li>
<li>
<p>
<em>G19</em> - YZ
</p>
</li>
<li>
<p>
<em>G17.1</em> - UV
</p>
</li>
<li>
<p>
<em>G18.1</em> - WU
</p>
</li>
<li>
<p>
<em>G19.1</em> - VW
</p>
</li>
</ul></div>
<div class="paragraph"><p>The UV, WU and VW planes do not support arcs.</p></div>
<div class="paragraph"><p>It is a good idea to include a plane selection in the preamble
of each G code file.</p></div>
<div class="paragraph"><p>The effects of having a plane selected are discussed in Section
<a href="g-code.html#gcode:g2-g3">G2 G3 Arcs</a> and Section <a href="g-code.html#gcode:g80-g89">G81 G89</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g20-g21">18. G20, G21 Units</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G20</em> - to use inches for length units.
</p>
</li>
<li>
<p>
<em>G21</em> - to use millimeters for length units.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is a good idea to include units in the preamble
of each G code file.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g28-g28.1">19. G28, G28.1 Go/Set Predefined Position</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">Only use G28 when your machine is homed to a repeatable position and the
desired G28 position has been stored with G28.1.</td>
</tr></table>
</div>
<div class="paragraph"><p>G28 uses the values stored in <a href="overview.html#sub:numbered-parameters">parameters</a>
5161-5169 as the X Y Z A B C U V W final point to move to. The parameter
values are <em>absolute</em> machine coordinates in the native machine <em>units</em> as
specified in the ini file. All axes defined in the ini file will be moved when
a G28 is issued. If no positions are stored with G28.1 then all axes will go to
the <a href="coordinates.html#sec.machine-coordinate-system">machine origin</a>.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G28</em> - makes a <a href="g-code.html#gcode:g0">rapid move</a> from the current
  position to the <em>absolute</em> position of the values in parameters 5161-5166.
</p>
</li>
<li>
<p>
<em>G28 axes</em> - makes a rapid move to the position specified by
  <em>axes</em> including any offsets, then will make a rapid move to the <em>absolute</em>
  position of the values in parameters 5161-5166 for all <em>axes</em> specified. Any
  <em>axis</em> not specified will not move.
</p>
</li>
<li>
<p>
<em>G28.1</em> - stores the current <em>absolute</em> position into parameters 5161-5166.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G28 Example Line</div>
<div class="content">
<pre><code>G28 Z2.5 (rapid to Z2.5 then to Z location specified in #5163)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if :</p></div>
<div class="ulist"><ul>
<li>
<p>
Cutter Compensation is turned on
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g30-g30.1">20. G30, G30.1 Go/Set Predefined Position</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">Only use G30 when your machine is homed to a repeatable position and the
desired G30 position has been stored with G30.1.</td>
</tr></table>
</div>
<div class="paragraph"><p>G30 functions the same as G28 but uses the values stored in
<a href="overview.html#sub:numbered-parameters">parameters</a> 5181-5189 as the X Y Z A B C U V W
final point to move to. The parameter values are <em>absolute</em> machine
coordinates in the native machine <em>units</em> as specified in the ini file.
All axes defined in the ini file will be moved when a G30 is issued.  If no
positions are stored with G30.1 then all axes will go to the
<a href="coordinates.html#sec.machine-coordinate-system">machine origin</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">G30 parameters will be used to move the tool when a M6 is programmed
if TOOL_CHANGE_AT_G30=1 is in the [EMCIO] section of the ini file.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>G30</em> - makes a <a href="g-code.html#gcode:g0">rapid move</a> from the current
  position to the <em>absolute</em> position of the values in parameters 5181-5189.
</p>
</li>
<li>
<p>
<em>G30 axes</em> - makes a rapid move to the position specified
  by <em>axes</em> including any offsets, then will make a rapid move to the
  <em>absolute</em> position of the values in parameters 5181-5189 for all <em>axes</em>
  specified. Any <em>axis</em> not specified will not move.
</p>
</li>
<li>
<p>
<em>G30.1</em> - stores the current absolute position into parameters 5181-5186.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G30 Example Line</div>
<div class="content">
<pre><code>G30 Z2.5 (rapid to Z2.5 then to the Z location specified in #5i83)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if :</p></div>
<div class="ulist"><ul>
<li>
<p>
Cutter Compensation is turned on
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g33">21. G33 Spindle Synchronized Motion</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G33 X- Y- Z- K- $-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>K</em> - distance per revolution
</p>
</li>
</ul></div>
<div class="paragraph"><p>For spindle-synchronized motion in one direction, code <em>G33 X- Y- Z- K-</em>
where K gives the distance moved in XYZ for each revolution of the spindle.
For instance, if starting at <em>Z=0</em>, <em>G33 Z-1 K.0625</em> produces
a 1 inch motion in Z over 16 revolutions of the spindle.
This command might be part of a program to produce a 16TPI thread.
Another example in metric, <em>G33 Z-15 K1.5</em> produces
a movement of 15mm while the spindle rotates 10 times for a thread of 1.5mm.</p></div>
<div class="paragraph"><p>The (optional) $ argument sets which spindle the motion is synchronised
to (default is zero). For example G33 Z10 K1 $1 will move the spindle in
synchrony with the spindle.N.revs HAL pin value.</p></div>
<div class="paragraph"><p>Spindle-synchronized motion waits for the spindle index and spindle at speed
pins, so multiple passes line up. <em>G33</em> moves end at the programmed endpoint.
G33 could be used to cut tapered threads or a fusee.</p></div>
<div class="paragraph"><p>All the axis words are optional, except that at least one must be used.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">K follows the drive line described by <em>X- Y- Z-</em>. K is not parallel to
the Z axis if X or Y endpoints are used for example when cutting tapered
threads.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Technical Info<a id="gcode:g33-tech-info"></a></div><p>At the beginning of each G33 pass, LinuxCNC uses the spindle speed and the
machine acceleration limits to calculate how long it will take Z to
accelerate after the index pulse, and determines how many degrees the
spindle will rotate during that time. It then adds that angle to the
index position and computes the Z position using the corrected spindle
angle. That means that Z will reach the correct position just as it
finishes accelerating to the proper speed, and can immediately begin
cutting a good thread.</p></div>
<div class="paragraph"><div class="title">HAL Connections</div><p>The pin <em>spindle.N.at-speed</em> must be set or driven true for the motion to
start. Additionally spindle.N.revs must increase by 1 for each revolution
of the spindle and the spindle.N.index-enable pin must be connected to
an encoder (or resolver) counter which resets index-enable once per rev.</p></div>
<div class="paragraph"><p>See the Integrators Manual for more information on spindle synchronized motion.</p></div>
<div class="listingblock">
<div class="title">G33 Example</div>
<div class="content">
<pre><code>G90 (absolute distance mode)
G0 X1 Z0.1 (rapid to position)
S100 M3 (start spindle turning)
G33 Z-2 K0.125 (move Z axis to -2 at a rate to equal 0.125 per revolution)
G0 X1.25 (rapid move tool away from work)
Z0.1 (rapid move to starting Z position)
M2 (end program)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g90-g91">G90</a> &amp; <a href="g-code.html#gcode:g0">G0</a> &amp; <a href="m-code.html#mcode:m2-m30">M2</a> sections for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
All axis words are omitted.
</p>
</li>
<li>
<p>
The spindle is not turning when this command is executed
</p>
</li>
<li>
<p>
The requested linear motion exceeds machine velocity limits
    due to the spindle speed
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g33.1">22. G33.1 Rigid Tapping</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G33.1 X- Y- Z- K- I- $-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>K</em> - distance per revolution
</p>
</li>
<li>
<p>
<em>I</em> - optional spindle speed multiplier for faster return move
</p>
</li>
<li>
<p>
<em>$</em> - optional spindle selector
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">For Z only tapping preposition the XY location prior to calling G33.1 and only
use a Z word in the G33.1. If the coordinates specified are not the current
coordinates when calling G33.1 for tapping the move will not be along the Z axis
but will be a coordinated, spindle-synchronized move from the current location
to the location specified and back.</td>
</tr></table>
</div>
<div class="paragraph"><p>For rigid tapping (spindle synchronized motion with return),
code <em>G33.1 X- Y- Z- K-</em> where <em>K-</em> gives the distance moved
for each revolution of the spindle.</p></div>
<div class="paragraph"><p>A rigid tapping move consists of the following sequence:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
A move from the current coordinate to the specified coordinate, synchronized
   with the selected spindle at the given ratio and starting from the
   current coordinate with a spindle index pulse.
</p>
</li>
<li>
<p>
When reaching the endpoint, a command to reverse the spindle, and speed up
  by a factor set by the multiplier (e.g., from clockwise to counterclockwise).
</p>
</li>
<li>
<p>
Continued synchronized motion beyond the specified end coordinate
   until the spindle actually stops and reverses.
</p>
</li>
<li>
<p>
Continued synchronized motion back to the original coordinate.
</p>
</li>
<li>
<p>
When reaching the original coordinate,
   a command to reverse the spindle a second time
   (e.g., from counterclockwise to clockwise).
</p>
</li>
<li>
<p>
Continued synchronized motion beyond the original coordinate
   until the spindle actually stops and reverses.
</p>
</li>
<li>
<p>
An <strong>unsynchronized</strong> move back to the original coordinate.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Spindle-synchronized motions wait for spindle index,
so multiple passes line up.<em>G33.1</em> moves end at the original coordinate.</p></div>
<div class="paragraph"><p>All the axis words are optional, except that at least one must be used.</p></div>
<div class="listingblock">
<div class="title">G33.1 Example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G90</span></span> <span style="font-style: italic"><span style="color: #9A1900">(set absolute mode)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">1.000</span> <span style="color: #FF6600">Y</span><span style="color: #993399">1.000</span> <span style="color: #FF6600">Z</span><span style="color: #993399">0.100</span> <span style="font-style: italic"><span style="color: #9A1900">(rapid move to starting position)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">S100 M3</span></span> <span style="font-style: italic"><span style="color: #9A1900">(turn on the spindle, 100 RPM)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G33</span></span><span style="color: #993399">.1</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">0.750</span> <span style="color: #FF6600">K</span><span style="color: #993399">0.05</span> <span style="font-style: italic"><span style="color: #9A1900">(rigid tap a 20 TPI thread 0.750 deep)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M2</span></span> <span style="font-style: italic"><span style="color: #9A1900">(end program)</span></span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g90-g91">G90</a> &amp; <a href="g-code.html#gcode:g0">G0</a> &amp; <a href="m-code.html#mcode:m2-m30">M2</a> sections for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
All axis words are omitted.
</p>
</li>
<li>
<p>
The spindle is not turning when this command is executed
</p>
</li>
<li>
<p>
The requested linear motion exceeds machine velocity limits
   due to the spindle speed
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g38">23. G38.n Straight Probe</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G38.n axes</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>G38.2</em> - probe toward workpiece, stop on contact, signal error if failure
</p>
</li>
<li>
<p>
<em>G38.3</em> - probe toward workpiece, stop on contact
</p>
</li>
<li>
<p>
<em>G38.4</em> - probe away from workpiece, stop on loss of contact, signal error if failure
</p>
</li>
<li>
<p>
<em>G38.5</em> - probe away from workpiece, stop on loss of contact
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">You will not be able to use a probe move until your
machine has been set up to provide a probe input signal.
The probe input signal must be connected to <em>motion.probe-input</em> in a .hal file.
G38.n uses motion.probe-input to determine when the probe has made (or lost) contact.
TRUE for probe contact closed (touching), FALSE for probe contact open.</td>
</tr></table>
</div>
<div class="paragraph"><p>Program <em>G38.n axes</em> to perform a straight probe operation.
The axis words are optional, except that at least one of them must be used.
The axis words together define the destination point that the probe will move towards,
starting from the current location. If the probe is not tripped before the destination
is reached G38.2 and G38.4 will signal an error.</p></div>
<div class="paragraph"><p>The tool in the spindle must be a probe or contact a probe switch.</p></div>
<div class="paragraph"><p>In response to this command, the machine moves the controlled point
(which should be at the center of the probe ball) in a straight line at the
current <a href="other-code.html#sec:set-feed-rate">feed rate</a> toward the programmed point.
In inverse time feed mode, the feed rate is such that the whole motion
from the current point to the programmed point would take the specified time.
The move stops (within machine acceleration limits)
when the programmed point is reached,
or when the requested change in the probe input takes place,
whichever occurs first.</p></div>
<div class="paragraph"><p>After successful probing, parameters #5061 to #5069 will be set to the
X, Y, Z, A, B, C, U, V, W coordinates of the location of the controlled point
at the time the probe changed state (in the current work coordinate system).
After unsuccessful probing, they are set to the coordinates of the programmed point.
Parameter 5070 is set to 1 if the probe succeeded and 0 if the probe failed.
If the probing operation failed, G38.2 and G38.4 will signal an error
by posting an message on screen if the selected GUI supports that.
And by halting program execution.</p></div>
<div class="paragraph"><p>A comment of the form <em>(PROBEOPEN filename.txt)</em> will open
<em>filename.txt</em> and store the 9-number coordinate consisting of
XYZABCUVW of each successful straight probe in it.
The file must be closed with <em>(PROBECLOSE)</em>. For more information
see the <a href="overview.html#gcode:comments">Comments</a> Section.</p></div>
<div class="paragraph"><p>An example file <em>smartprobe.ngc</em> is included (in the examples directory)
to demonstrate using probe moves to log to a file the coordinates of a part.
The program <em>smartprobe.ngc</em> could be used with <em>ngcgui</em> with minimal changes.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the current point is the same as the programmed point.
</p>
</li>
<li>
<p>
no axis word is used
</p>
</li>
<li>
<p>
cutter compensation is enabled
</p>
</li>
<li>
<p>
the feed rate is zero
</p>
</li>
<li>
<p>
the probe is already in the target state
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g40">24. G40 Compensation Off</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G40</em> - turn cutter compensation off. If tool compensation was on the
          next move must be a linear move and longer than the tool diameter.
          It is OK to turn compensation off when it is already off.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G40 Example</div>
<div class="content">
<pre><code>; current location is X1 after finishing cutter compensated move
G40 (turn compensation off)
G0 X1.6 (linear move longer than current cutter diameter)
M2 (end program)</code></pre>
</div></div>
<div class="paragraph"><p>See <a href="g-code.html#gcode:g0">G0</a> &amp; <a href="m-code.html#mcode:m2-m30">M2</a> sections for more information.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
A G2/G3 arc move is programmed next after a G40.
</p>
</li>
<li>
<p>
The linear move after turning compensation off is less than the tool diameter.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g41-g42">25. G41, G42 Cutter Compensation</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G41 &lt;D-&gt; (left of programmed path)
G42 &lt;D-&gt; (right of programmed path)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>D</em> - tool number
</p>
</li>
</ul></div>
<div class="paragraph"><p>The D word is optional; if there is no D word the radius of the currently
loaded tool will be used (if no tool is loaded and no D word is given,
a radius of 0 will be used).</p></div>
<div class="paragraph"><p>If supplied, the D word is the tool number to use.  This would normally
be the number of the tool in the spindle (in which case the D word is
redundant and need not be supplied), but it may be any valid tool number.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content"><em>G41/G42 D0</em> is a little special.  Its behavior is different on
random tool changer machines and nonrandom tool changer machines
(see the <a href="m-code.html#mcode:m6">Tool Change</a> section).  On nonrandom
tool changer machines, <em>G41/G42 D0</em> applies the TLO of the tool currently
in the spindle, or a TLO of 0 if no tool is in the spindle.  On random
tool changer machines, <em>G41/G42 D0</em> applies the TLO of the tool T0 defined
in the tool table file (or causes an error if T0 is not defined in the
tool table).</td>
</tr></table>
</div>
<div class="paragraph"><p>To start cutter compensation to the left of the part profile, use G41.
G41 starts cutter compensation to the left of the programmed line
as viewed from the positive end of the axis perpendicular to the plane.</p></div>
<div class="paragraph"><p>To start cutter compensation to the right of the part profile, use G42.
G42 starts cutter compensation to the right of the programmed line
as viewed from the positive end of the axis perpendicular to the plane.</p></div>
<div class="paragraph"><p>The lead in move must be at least as long as the tool radius.
The lead in move can be a rapid move.</p></div>
<div class="paragraph"><p>Cutter compensation may be performed if the XY-plane or XZ-plane is active.</p></div>
<div class="paragraph"><p>User M100-M199 commands are allowed when Cutter Compensation is on.</p></div>
<div class="paragraph"><p>The behavior of the machining center when cutter compensation
is on is described in the <a href="tool-compensation.html#sec:cutter-compensation">Cutter Compensation</a>
Section along with code examples.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The D number is not a valid tool number or 0.
</p>
</li>
<li>
<p>
The YZ plane is active.
</p>
</li>
<li>
<p>
Cutter compensation is commanded to turn on when it is already on.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g41.1-g42.1">26. G41.1, G42.1 Dynamic Cutter Compensation</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G41.1 D- &lt;L-&gt; (left of programmed path)
G42.1 D- &lt;L-&gt; (right of programmed path)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>D</em> - cutter diameter
</p>
</li>
<li>
<p>
<em>L</em> - tool orientation (see <a href="../lathe/lathe-user.html#lathe-tool-orientation">lathe tool orientation</a>)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G41.1 &amp; G42.1 function the same as G41 &amp; G42 with the added scope of being able
to program the tool diameter. The L word defaults to 0 if unspecified.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The YZ plane is active.
</p>
</li>
<li>
<p>
The L number is not in the range from 0 to 9 inclusive.
</p>
</li>
<li>
<p>
The L number is used when the XZ plane is not active.
</p>
</li>
<li>
<p>
Cutter compensation is commanded to turn on when it is already on.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g43">27. G43 Tool Length Offset</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G43 &lt;H-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>H</em> - tool number (optional)
</p>
</li>
</ul></div>
<div class="paragraph"><p>G43 enables tool length compensation.  G43 changes subsequent motions
by offsetting the axis coordinates by the length of the offset. G43
does not cause any motion. The next time a compensated axis is moved,
that axis&#8217;s endpoint is the compensated location.</p></div>
<div class="paragraph"><p><em>G43</em> without an H word uses the currently loaded tool from the last
<em>Tn M6</em>.</p></div>
<div class="paragraph"><p><em>G43 Hn</em> uses the offset for tool n.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content"><em>G43 H0</em> is a little special.  Its behavior is different on random
tool changer machines and nonrandom tool changer machines (see the
<a href="tool-compensation.html#sec:tool-changers">Tool Changers</a> section).  On nonrandom tool changer
machines, <em>G43 H0</em> applies the TLO of the tool currently in the spindle,
or a TLO of 0 if no tool is in the spindle.  On random tool changer
machines, <em>G43 H0</em> applies the TLO of the tool T0 defined in the tool
table file (or causes an error if T0 is not defined in the tool table).</td>
</tr></table>
</div>
<div class="listingblock">
<div class="title">G43 H- Example Line</div>
<div class="content">
<pre><code>G43 H1 (set tool offsets using the values from tool 1 in the tool table)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the H number is not an integer, or
</p>
</li>
<li>
<p>
the H number is negative, or
</p>
</li>
<li>
<p>
the H number is not a valid tool number (though note that 0 is a valid
    tool number on nonrandom tool changer machines, it means "the tool
    currently in the spindle")
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g43.1">28. G43.1 Dynamic Tool Length Offset</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G43.1 axes</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>G43.1 axes</em> - change subsequent motions by replacing the current offset(s)
   of axes. G43.1 does not cause any motion. The next time a compensated axis
   is moved, that axis&#8217;s endpoint is the compensated location.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G43.1 Example</div>
<div class="content">
<pre><code>G90 (set absolute mode)
T1 M6 G43 (load tool 1 and tool length offsets, Z is at machine 0 and DRO shows Z1.500)
G43.1 Z0.250 (offset current tool offset by 0.250, DRO now shows Z1.250)
M2 (end program)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g90-g91">G90</a> &amp; <a href="other-code.html#sec:select-tool">T</a> &amp; <a href="m-code.html#mcode:m6">M6</a>
  sections for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
motion is commanded on the same line as <em>G43.1</em>
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">G43.1 does not write to the tool table.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g43.2">29. G43.2 Apply additional Tool Length Offset</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G43.2 H- axes-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>H</em> - tool number
</p>
</li>
</ul></div>
<div class="paragraph"><p>G43.2 applies an additional simultaneous tool offset.</p></div>
<div class="listingblock">
<div class="title">G43.2 Example</div>
<div class="content">
<pre><code>G90 (set absolute mode)
T1 M6 (load tool 1)
G43 (or G43 H1 - replace all tool offsets with T1's offset)
G43.2 H10 (also add in T10's tool offset)
M2 (end program)</code></pre>
</div></div>
<div class="paragraph"><p>You can sum together an arbitrary number of offsets by calling G43.2
more times.  There are no built-in assumptions about which numbers are geometry
offsets and which are wear offsets, or that you should have only one of each.</p></div>
<div class="paragraph"><p>Like the other G43 commands, G43.2 does not cause any motion.  The next time a
compensated axis is moved, that axis&#8217;s endpoint is the compensated location.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>H</em> is unspecified and no axis offsets are specified
</p>
</li>
<li>
<p>
'H is specified and the given tool number does not exist in the tool table
</p>
</li>
<li>
<p>
<em>H</em> is specified and axes are also specified
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">G43.2 does not write to the tool table.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g49">30. G49 Cancel Tool Length Compensation</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G49</em> - cancels tool length compensation
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is OK to program using the same offset already in use. It is also
OK to program using no tool length offset if none is currently being
used.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g52">31. G52 Local Coordinate System Offset</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G52 axes</code></pre>
</div></div>
<div class="paragraph"><p>G52 is used in a part program as a temporary "local coordinate system offset"
within the workpiece coordinate system. More information on G52 is in the
<a href="coordinates.html#sec:g52">Local and Global Offsets</a> section.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g53">32. G53 Move in Machine Coordinates</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G53 axes</code></pre>
</div></div>
<div class="paragraph"><p>To move in the <a href="coordinates.html#sec.machine-coordinate-system">machine coordinate system</a>,
program <em>G53</em> on the same line as a linear move. <em>G53</em> is not modal and must be
programmed on each line. <em>G0</em> or <em>G1</em> does not have to be programmed on the same
line if one is currently active.</p></div>
<div class="paragraph"><p>For example <em>G53 G0 X0 Y0 Z0</em> will move the axes to the home position even if
the currently selected coordinate system has offsets in effect.</p></div>
<div class="listingblock">
<div class="title">G53 Example</div>
<div class="content">
<pre><code>G53 G0 X0 Y0 Z0 (rapid linear move to the machine origin)
G53 X2 (rapid linear move to absolute coordinate X2)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g0">G0</a> section for more information.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
G53 is used without G0 or G1 being active,
</p>
</li>
<li>
<p>
or G53 is used while cutter compensation is on.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g54-g59.3">33. G54-G59.3 Select Coordinate System</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G54</em> - select coordinate system 1
</p>
</li>
<li>
<p>
<em>G55</em> - select coordinate system 2
</p>
</li>
<li>
<p>
<em>G56</em> - select coordinate system 3
</p>
</li>
<li>
<p>
<em>G57</em> - select coordinate system 4
</p>
</li>
<li>
<p>
<em>G58</em> - select coordinate system 5
</p>
</li>
<li>
<p>
<em>G59</em> - select coordinate system 6
</p>
</li>
<li>
<p>
<em>G59.1</em> - select coordinate system 7
</p>
</li>
<li>
<p>
<em>G59.2</em> - select coordinate system 8
</p>
</li>
<li>
<p>
<em>G59.3</em> - select coordinate system 9
</p>
</li>
</ul></div>
<div class="paragraph"><p>The coordinate systems store the axis values and the
XY rotation angle around the Z axis
in the parameters shown in the following table.</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. Coordinate System Parameters</caption>
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="left" valign="top">Select</th>
<th align="center" valign="top">CS</th>
<th align="center" valign="top">X   </th>
<th align="center" valign="top">Y   </th>
<th align="center" valign="top">Z   </th>
<th align="center" valign="top">A   </th>
<th align="center" valign="top">B   </th>
<th align="center" valign="top">C   </th>
<th align="center" valign="top">U   </th>
<th align="center" valign="top">V   </th>
<th align="center" valign="top">W   </th>
<th align="center" valign="top">R</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">G54</p></td>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="center" valign="top"><p class="table">5221</p></td>
<td align="center" valign="top"><p class="table">5222</p></td>
<td align="center" valign="top"><p class="table">5223</p></td>
<td align="center" valign="top"><p class="table">5224</p></td>
<td align="center" valign="top"><p class="table">5225</p></td>
<td align="center" valign="top"><p class="table">5226</p></td>
<td align="center" valign="top"><p class="table">5227</p></td>
<td align="center" valign="top"><p class="table">5228</p></td>
<td align="center" valign="top"><p class="table">5229</p></td>
<td align="center" valign="top"><p class="table">5230</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G55</p></td>
<td align="center" valign="top"><p class="table">2</p></td>
<td align="center" valign="top"><p class="table">5241</p></td>
<td align="center" valign="top"><p class="table">5242</p></td>
<td align="center" valign="top"><p class="table">5243</p></td>
<td align="center" valign="top"><p class="table">5244</p></td>
<td align="center" valign="top"><p class="table">5245</p></td>
<td align="center" valign="top"><p class="table">5246</p></td>
<td align="center" valign="top"><p class="table">5247</p></td>
<td align="center" valign="top"><p class="table">5248</p></td>
<td align="center" valign="top"><p class="table">5249</p></td>
<td align="center" valign="top"><p class="table">5250</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G56</p></td>
<td align="center" valign="top"><p class="table">3</p></td>
<td align="center" valign="top"><p class="table">5261</p></td>
<td align="center" valign="top"><p class="table">5262</p></td>
<td align="center" valign="top"><p class="table">5263</p></td>
<td align="center" valign="top"><p class="table">5264</p></td>
<td align="center" valign="top"><p class="table">5265</p></td>
<td align="center" valign="top"><p class="table">5266</p></td>
<td align="center" valign="top"><p class="table">5267</p></td>
<td align="center" valign="top"><p class="table">5268</p></td>
<td align="center" valign="top"><p class="table">5269</p></td>
<td align="center" valign="top"><p class="table">5270</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G57</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="center" valign="top"><p class="table">5281</p></td>
<td align="center" valign="top"><p class="table">5282</p></td>
<td align="center" valign="top"><p class="table">5283</p></td>
<td align="center" valign="top"><p class="table">5284</p></td>
<td align="center" valign="top"><p class="table">5285</p></td>
<td align="center" valign="top"><p class="table">5286</p></td>
<td align="center" valign="top"><p class="table">5287</p></td>
<td align="center" valign="top"><p class="table">5288</p></td>
<td align="center" valign="top"><p class="table">5289</p></td>
<td align="center" valign="top"><p class="table">5290</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G58</p></td>
<td align="center" valign="top"><p class="table">5</p></td>
<td align="center" valign="top"><p class="table">5301</p></td>
<td align="center" valign="top"><p class="table">5302</p></td>
<td align="center" valign="top"><p class="table">5303</p></td>
<td align="center" valign="top"><p class="table">5304</p></td>
<td align="center" valign="top"><p class="table">5305</p></td>
<td align="center" valign="top"><p class="table">5306</p></td>
<td align="center" valign="top"><p class="table">5307</p></td>
<td align="center" valign="top"><p class="table">5308</p></td>
<td align="center" valign="top"><p class="table">5309</p></td>
<td align="center" valign="top"><p class="table">5310</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G59</p></td>
<td align="center" valign="top"><p class="table">6</p></td>
<td align="center" valign="top"><p class="table">5321</p></td>
<td align="center" valign="top"><p class="table">5322</p></td>
<td align="center" valign="top"><p class="table">5323</p></td>
<td align="center" valign="top"><p class="table">5324</p></td>
<td align="center" valign="top"><p class="table">5325</p></td>
<td align="center" valign="top"><p class="table">5326</p></td>
<td align="center" valign="top"><p class="table">5327</p></td>
<td align="center" valign="top"><p class="table">5328</p></td>
<td align="center" valign="top"><p class="table">5329</p></td>
<td align="center" valign="top"><p class="table">5330</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G59.1</p></td>
<td align="center" valign="top"><p class="table">7</p></td>
<td align="center" valign="top"><p class="table">5341</p></td>
<td align="center" valign="top"><p class="table">5342</p></td>
<td align="center" valign="top"><p class="table">5343</p></td>
<td align="center" valign="top"><p class="table">5344</p></td>
<td align="center" valign="top"><p class="table">5345</p></td>
<td align="center" valign="top"><p class="table">5346</p></td>
<td align="center" valign="top"><p class="table">5347</p></td>
<td align="center" valign="top"><p class="table">5348</p></td>
<td align="center" valign="top"><p class="table">5349</p></td>
<td align="center" valign="top"><p class="table">5350</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G59.2</p></td>
<td align="center" valign="top"><p class="table">8</p></td>
<td align="center" valign="top"><p class="table">5361</p></td>
<td align="center" valign="top"><p class="table">5362</p></td>
<td align="center" valign="top"><p class="table">5363</p></td>
<td align="center" valign="top"><p class="table">5364</p></td>
<td align="center" valign="top"><p class="table">5365</p></td>
<td align="center" valign="top"><p class="table">5366</p></td>
<td align="center" valign="top"><p class="table">5367</p></td>
<td align="center" valign="top"><p class="table">5368</p></td>
<td align="center" valign="top"><p class="table">5369</p></td>
<td align="center" valign="top"><p class="table">5370</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">G59.3</p></td>
<td align="center" valign="top"><p class="table">9</p></td>
<td align="center" valign="top"><p class="table">5381</p></td>
<td align="center" valign="top"><p class="table">5382</p></td>
<td align="center" valign="top"><p class="table">5383</p></td>
<td align="center" valign="top"><p class="table">5384</p></td>
<td align="center" valign="top"><p class="table">5385</p></td>
<td align="center" valign="top"><p class="table">5386</p></td>
<td align="center" valign="top"><p class="table">5387</p></td>
<td align="center" valign="top"><p class="table">5388</p></td>
<td align="center" valign="top"><p class="table">5389</p></td>
<td align="center" valign="top"><p class="table">5390</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
selecting a coordinate system is used while cutter compensation is on.
</p>
</li>
</ul></div>
<div class="paragraph"><p>See the <a href="coordinates.html#cha:coordinate-system">Coordinate System</a> Section for an overview of coordinate
systems.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g61">34. G61 Exact Path Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G61</em> - Exact path mode, movement exactly as programmed. Moves will slow or
stop as needed to reach every programmed point. If two sequential moves are
exactly co-linear movement will not stop.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g61.1">35. G61.1 Exact Stop Mode</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<em>G61.1</em> - Exact stop mode, movement will stop at the end of each programmed
segment.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g64">36. G64 Path Blending</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G64 &lt;P- &lt;Q-&gt;&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>P</em> - motion blending tolerance
</p>
</li>
<li>
<p>
<em>Q</em> - naive cam tolerance
</p>
</li>
<li>
<p>
<em>G64</em> - best possible speed.
</p>
</li>
<li>
<p>
<em>G64 P- &lt;Q- &gt;</em> blending with tolerance.
</p>
</li>
<li>
<p>
<em>G64</em> - without P means to keep the best speed possible, no matter how
far away from the programmed point you end up.
</p>
</li>
<li>
<p>
<em>G64 P- Q-</em> - is a way to fine tune your system for best compromise
between speed and accuracy. The P- tolerance means that the actual path
will be no more than P- away from the programmed endpoint. The velocity
will be reduced if needed to maintain the path. In addition, when you
activate G64 P- Q- it turns on the <em>naive cam detector</em>; when there are
a series of linear XYZ feed moves at the same <a href="other-code.html#sec:set-feed-rate">feed rate</a>
that are less than Q- away from being collinear, they are collapsed into a
single linear move. On G2/G3 moves in the G17 (XY) plane when the maximum
deviation of an arc from a straight line is less than the G64 P-
tolerance the arc is broken into two lines (from start of arc to
midpoint, and from midpoint to end). those lines are then subject to
the naive cam algorithm for lines. Thus, line-arc, arc-arc, and
arc-line cases as well as line-line benefit from the <em>naive cam
detector</em>. This improves contouring performance by simplifying the
path. It is OK to program for the mode that is already active. See also
the <a href="../user/user-concepts.html#sec:trajectory-control">Trajectory Control</a> Section for more
information on these modes.
If Q is not specified then it will have the same behavior as before and
use the value of P-.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G64 P- Example Line</div>
<div class="content">
<pre><code>G64 P0.015 (set path following to be within 0.015 of the actual path)</code></pre>
</div></div>
<div class="paragraph"><p>It is a good idea to include a path control specification in the preamble
of each G code file.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g70">37. G70 Lathe finishing cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G70 Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;E-&gt; &lt;P-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>Q</em> - The subroutine number.
</p>
</li>
<li>
<p>
<em>X</em> - The starting X position, defaults to the initial position.
</p>
</li>
<li>
<p>
<em>Z</em> - The starting Z position, defaults to the initial position.
</p>
</li>
<li>
<p>
<em>D</em> - The starting distance of the profile, defaults to 0.
</p>
</li>
<li>
<p>
<em>E</em> - The ending distance of the profile, defaults to 0.
</p>
</li>
<li>
<p>
<em>P</em> - The number of passes to use, defaults to 1.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <em>G70</em> cycle is intended to be used after the shape of the profile given
in the subroutine with number Q has been cut with G71 or G72.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion.
</p>
<div class="ulist"><ul>
<li>
<p>
If Z or X are used a <a href="g-code.html#gcode:g0">rapid move</a> to that position
   is done. This position is also used between each finishing pass.
</p>
</li>
<li>
<p>
Then a <a href="g-code.html#gcode:g0">rapid move</a> to the start of the profile is
      executed.
</p>
</li>
<li>
<p>
The path given in Q- is followed using the <a href="g-code.html#gcode:g1">G1</a> and
      <a href="g-code.html#gcode:g2-g3">[gcode:g2-g3]</a> commands.
</p>
</li>
<li>
<p>
If a next pass is required there is another rapid to the intermediate
      location, before a rapid is done to the start of the profile.
</p>
</li>
<li>
<p>
After the final pass, the tool is left at the end of the profile
      including E-.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Multiple passes.
   The distance between the pass and the final profile is (pass-1)*(D-E)/P+E.
   Where pass the pass number and D,E and P are the D/E/P numbers.
</p>
</li>
<li>
<p>
The distance is computed using the starting position of the cycle, with
   a positive distance towards this point.
</p>
</li>
<li>
<p>
Fillet and chamfers in the profile.
   It is possible to add fillets or chamfers in the profile, see
   <a href="g-code.html#gcode:g71-g72">[gcode:g71-g72]</a> for more details.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
There is no subroutine defined with the number given in Q.
</p>
</li>
<li>
<p>
The path given in the profile is not monotonic in Z or X.
</p>
</li>
<li>
<p>
<a href="g-code.html#gcode:g17-g19.1">[gcode:g17-g19.1]</a> has not been used to select the ZX plane.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g71-g72">38. G71 G72 Lathe roughing cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G71   Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;
G71.1 Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;
G71.2 Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;
G72   Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;
G72.1 Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;
G72.2 Q- &lt;X-&gt; &lt;Z-&gt; &lt;D-&gt; &lt;I-&gt; &lt;R-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>Q</em> - The subroutine number.
</p>
</li>
<li>
<p>
<em>X</em> - The starting X position, defaults to the initial position.
</p>
</li>
<li>
<p>
<em>Z</em> - The starting Z position, defaults to the initial position.
</p>
</li>
<li>
<p>
<em>D</em> - The remaining distance to the profile, defaults to 0.
</p>
</li>
<li>
<p>
<em>I</em> - The cutting increment, defaults to 1.
</p>
</li>
<li>
<p>
<em>R</em> - The retracting distance, defaults to 0.5.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The G71/G72 cycle is intended to rough cut a profile on a lathe. The G71
cycles remove layers of the material while traversing in the Z direction.
The G72 cycles remove material while traversing the X axis, the so called
facing cycle. The direction of travel is the same as in the path given in
the subroutine. For the G71 cycle the Z coordinate must be monotonically
changing, for the G72 this is required for the X axis.</p></div>
<div class="paragraph"><p>The profile is given in a subroutine with number Q-. This subroutine
may contain G0, G1, G2 and G3 motion commands. All other commands are
ignored, including feed and speed settings. The <a href="g-code.html#gcode:g0">[gcode:g0]</a> commands are
interpreted as <a href="g-code.html#gcode:g1">G1</a> commands. Each motion command may also include
an optional A- or C- number.  If the number A- is added a fillet with
the radius given by A will be inserted at the endpoint of that motion, if
this radius is too large the algorithm will fail with a non-monotonic path
error. It is also possible to use the C- number, which allows a chamfer to
be inserted. This chamfer has the same endpoints as a fillet of the same
dimension would have but a straight line is inserted instead of an arc.</p></div>
<div class="paragraph"><p>When in absolute mode the U (for X) and W (for Z) can be used as
incremental displacements.</p></div>
<div class="paragraph"><p>The G7x.1 cycles do not cut pockets. The G7x.2 cycles only cut after the
first pocket and continue where G7x.1 stopped. It is advisible to leave
some additional material to cut before the G7x.2 cycle, so if G7x.1 used
a D1.0 the G7x.2 can use D0.5 and 0.5mm will be removed while moving
from one pocket to the next.</p></div>
<div class="paragraph"><p>The normal G7x cycles cut the entire profile in one cycle.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion.
</p>
<div class="ulist"><ul>
<li>
<p>
If Z or X are used a <a href="g-code.html#gcode:g0">rapid move</a> to that position
   is done.
</p>
</li>
<li>
<p>
After the profile has been cut, the tool stops at the end of the
   profile, including the distance specified in D.
</p>
</li>
</ul></div>
</li>
<li>
<p>
The D number is used to  keep a distance from the final profile,
   to allow material to remain for finishing.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
There is no subroutine defined with the number given in Q.
</p>
</li>
<li>
<p>
The path given in the profile is not monotonic in Z or X.
</p>
</li>
<li>
<p>
<a href="g-code.html#gcode:g17-g19.1">[gcode:g17-g19.1]</a> has not been used to select the ZX plane.
</p>
</li>
<li>
<p>
<a href="g-code.html#gcode:g41-g42">[gcode:g41-g42]</a> is active.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g73">39. G73 Drilling Cycle with Chip Breaking</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G73 X- Y- Z- R- Q- &lt;L-&gt;</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>R</em> - retract position along the Z axis.
</p>
</li>
<li>
<p>
<em>Q</em> - delta increment along the Z axis.
</p>
</li>
<li>
<p>
<em>L</em> - repeat
</p>
</li>
</ul></div>
<div class="paragraph"><p>The <em>G73</em> cycle is drilling or milling with chip breaking.
This cycle takes a Q number which represents a <em>delta</em> increment along the Z axis.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion.
</p>
<div class="ulist"><ul>
<li>
<p>
If the current Z position is below the R position, The Z axis does a
   <a href="g-code.html#gcode:g0">rapid move</a> to the R position.
</p>
</li>
<li>
<p>
Move to the X Y coordinates
</p>
</li>
</ul></div>
</li>
<li>
<p>
Move the Z-axis only at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> downward
   by delta or to the Z position, whichever is less deep.
</p>
</li>
<li>
<p>
Rapid up a bit.
</p>
</li>
<li>
<p>
Repeat steps 2 and 3 until the Z position is reached at step 2.
</p>
</li>
<li>
<p>
The Z axis does a rapid move to the R position.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the Q number is negative or zero.
</p>
</li>
<li>
<p>
the R number is not specified
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g74">40. G74 Left-hand Tapping Cycle, Dwell</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G74 (X- Y- Z-) or (U- V- W-) R- L- P- $- F-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>R-</em> - Retract position along the Z axis.
</p>
</li>
<li>
<p>
<em>L-</em> - Used in incremental mode; number of times to repeat the cycle. See <a href="g-code.html#gcode:g81">G81</a> for examples.
</p>
</li>
<li>
<p>
<em>P-</em> - Dwell time (seconds).
</p>
</li>
<li>
<p>
<em>$-</em> - Selected spindle.
</p>
</li>
<li>
<p>
<em>F-</em> - Feed rate (spindle speed multiplied by distance traveled per revolution (thread pitch)).
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">G74 does not use synchronized motion.</td>
</tr></table>
</div>
<div class="paragraph"><p>The <em>G74</em> cycle is intended for tapping with floating chuck and dwell at the bottom of the hole.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
       <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Disable Feed and Speed Overrides.
</p>
</li>
<li>
<p>
Move the Z-axis at the current feed rate to the Z position.
</p>
</li>
<li>
<p>
Stop the selected spindle (chosen by the $ parameter)
</p>
</li>
<li>
<p>
Start spindle rotation clockwise.
</p>
</li>
<li>
<p>
Dwell for the P number of seconds.
</p>
</li>
<li>
<p>
Move the Z-axis at the current feed rate to clear Z
</p>
</li>
<li>
<p>
Restore Feed and Speed override enables to previous state
</p>
</li>
</ol></div>
<div class="paragraph"><p>The length of the dwell is specified by a <em>P-</em> word in the G74 block. The feed rate <em>F-</em> is spindle speed multiplied by distance per revolution (thread pitch).
In example S100 with 1.25MM per revolution thread pitch gives a feed of F125.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g76">41. G76 Threading Cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G76 P- Z- I- J- R- K- Q- H- E- L- $-</code></pre>
</div></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g76-threads_en.svg" alt="G76 Threading" />
</div>
<div class="title">Figure 3. G76 Threading</div>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>Drive Line</em> - A line through the initial X position parallel to the Z.
</p>
</li>
<li>
<p>
<em>P-</em> - The <em>thread pitch</em> in distance per revolution.
</p>
</li>
<li>
<p>
<em>Z-</em> - The final position of threads. At the end of the cycle the tool will
be at this Z position.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">When G7 <em>Lathe Diameter Mode</em> is in force the values for <em>I</em>, <em>J</em> and <em>K</em> are
diameter measurements. When G8 <em>Lathe Radius Mode</em> is in force the values for
<em>I</em>, <em>J</em> and <em>K</em> are radius measurements.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>I-</em> - The <em>thread peak</em> offset from the <em>drive line</em>. Negative <em>I</em> values
are external threads, and positive <em>I</em> values are internal threads.
Generally the material has been turned to this size before the <em>G76</em> cycle.
</p>
</li>
<li>
<p>
<em>J-</em> - A positive value specifying the <em>initial cut depth</em>. The first
threading cut will be <em>J</em> beyond the <em>thread peak</em> position.
</p>
</li>
<li>
<p>
<em>K-</em> - A positive value specifying the <em>full thread depth</em>. The final
threading cut will be <em>K</em> beyond the <em>thread peak</em> position.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Optional settings</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>$-</em> - The spindle number to which the motion will be synchronised
(default 0). For example is $1 is programmed then the motion will begin
on the reset od spindle.1.index-enable and proceed in synchrony with the
value of spindle.1.revs
</p>
</li>
<li>
<p>
<em>R-</em> - The <em>depth degression</em>. <em>R1.0</em> selects constant depth on successive
threading passes. <em>R2.0</em> selects constant area. Values between 1.0 and
2.0 select decreasing
depth but increasing area. Values above 2.0 select decreasing area.
Beware that unnecessarily high degression values will cause a large
number of passes to be used. (degression = a descent by stages or
steps.)
</p>
</li>
<li>
<p>
<em>Q-</em> - The <em>compound slide angle</em> is the angle (in degrees) describing to
what extent successive passes should be offset along the drive line.
This is used to cause one side of the tool to remove more material than
the other. A positive <em>Q</em> value causes the leading edge of the tool to
cut more heavily.
Typical values are 29, 29.5 or 30.
</p>
</li>
<li>
<p>
<em>H-</em> - The number of <em>spring passes</em>. Spring passes are additional passes at
full thread depth. If no additional passes are desired, program <em>H0</em>.
</p>
</li>
<li>
<p>
<em>E-</em> - Specifies the distance along the drive line used for the taper. The
angle of the taper will be so the last pass tapers to the thread crest
over the distance specified with E.' E0.2' will give a taper for the
first/last 0.2 length units along the
thread. For a 45 degree taper program E the same as K
</p>
</li>
<li>
<p>
<em>L-</em> - Specifies which ends of the thread get the taper. Program <em>L0</em> for no
taper (the default), <em>L1</em> for entry taper, <em>L2</em> for exit taper, or <em>L3</em>
for both entry and exit tapers. Entry tapers will pause at the drive line to
synchronize with the index pulse then move at the <a href="other-code.html#sec:set-feed-rate">feed rate</a>
in to the beginning of the taper. No entry taper and the tool will rapid to the
cut depth then synchronize and begin the cut.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The tool is moved to the initial X and Z positions prior to issuing
the G76. The X position is the <em>drive line</em> and the Z position is the
start of the threads.</p></div>
<div class="paragraph"><p>The tool will pause briefly for synchronization before each threading
pass, so a relief groove will be required at the entry unless the
beginning of the thread is past the end of the material or an entry
taper is used.</p></div>
<div class="paragraph"><p>Unless using an exit taper, the exit move is not synchronized to the spindle
speed and will be a <a href="g-code.html#gcode:g0">rapid move</a>. With a slow spindle, the
exit move might take only a small fraction of a revolution. If the spindle
speed is increased after several passes are complete, subsequent exit
moves will require a larger portion of a revolution, resulting in a
very heavy cut during the exit move. This can be avoided by providing a
relief groove at the exit, or by not changing the spindle speed while
threading.</p></div>
<div class="paragraph"><p>The final position of the tool will be at the end of the <em>drive line</em>.
A safe Z move will be needed with an internal thread to remove the tool
from the hole.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
The active plane is not the ZX plane
</p>
</li>
<li>
<p>
Other axis words, such as X- or Y-, are specified
</p>
</li>
<li>
<p>
The <em>R-</em> degression value is less than 1.0.
</p>
</li>
<li>
<p>
All the required words are not specified
</p>
</li>
<li>
<p>
<em>P-</em>, <em>J-</em>, <em>K-</em> or <em>H-</em> is negative
</p>
</li>
<li>
<p>
<em>E-</em> is greater than half the drive line length
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">HAL Connections</div><p>The pins <em>spindle.N.at-speed</em> and the <em>encoder.n.phase-Z</em> for the
spindle must be connected in your HAL file before G76 will work.
See the <a href="../config/core-components.html#sec:motion-pins">spindle</a> pins in the Motion section for more
information.</p></div>
<div class="paragraph"><div class="title">Technical Info</div><p>The G76 canned cycle is based on the G33 Spindle Synchronized Motion. For more
information see the G33 <a href="g-code.html#gcode:g33-tech-info">Technical Info</a>.</p></div>
<div class="paragraph"><p>The sample program <em>g76.ngc</em> shows the use of the G76 canned cycle,
and can be previewed and
executed on any machine using the <em>sim/lathe.ini</em> configuration.</p></div>
<div class="listingblock">
<div class="title">G76 Example</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">0.5</span> <span style="color: #FF6600">X</span><span style="color: #993399">0.2</span>
<span style="font-weight: bold"><span style="color: #0000FF">G76</span></span> <span style="color: #FF6600">P</span><span style="color: #993399">0.05</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">1</span> <span style="color: #FF6600">I</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">.075</span> <span style="color: #FF6600">J</span><span style="color: #993399">0.008</span> <span style="color: #FF6600">K</span><span style="color: #993399">0.045</span> <span style="color: #FF6600">Q</span><span style="color: #993399">29.5</span> <span style="color: #FF6600">L</span><span style="color: #993399">2</span> E<span style="color: #993399">0.045</span></tt></pre></div></div>
<div class="paragraph"><p>In the figure the tool is in the final position after the G76 cycle
is completed. You can see the entry path on the right from the Q29.5
and the exit path on the left from the L2 E0.045. The white lines
are the cutting moves.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g76-01.png" alt="G76 Example" />
</div>
<div class="title">Figure 4. G76 Example</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g80-g89">42. Canned Cycles</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="paragraph"><p>The canned cycles <em>G81</em> through <em>G89</em> and the canned cycle stop <em>G80</em>
are described in this section.</p></div>
<div class="paragraph"><p>All canned cycles are performed with respect to the currently-selected
plane. Any of the nine planes may be selected. Throughout this section,
most of the descriptions assume the XY-plane has been selected. The
behavior is analogous if another plane is selected, and the correct
words must be used. For instance, in the <em>G17.1</em> plane, the action of
the canned cycle is along W, and the locations
or increments are given with U and V. In this case substitute U,V,W for
X,Y,Z in the instructions below.</p></div>
<div class="paragraph"><p>Rotary axis words are not allowed in canned cycles. When the
active plane is one of the XYZ family, the UVW axis words are not
allowed. Likewise, when the active plane is one of the UVW family, the
XYZ axis words are not allowed.</p></div>
<div class="sect2">
<h3 id="_common_words">42.1. Common Words</h3>
<div class="paragraph"><p>All canned cycles use X, Y, Z, or U, V, W groups depending on the
plane selected and R words. The R (usually meaning retract) position is
along the axis perpendicular to the currently selected plane (Z-axis
for XY-plane, etc.) Some canned cycles use additional arguments.</p></div>
</div>
<div class="sect2">
<h3 id="_sticky_words">42.2. Sticky Words</h3>
<div class="paragraph"><p>For canned cycles, we will call a number <em>sticky</em> if, when the same
cycle is used on several lines of code in a row, the number must be
used the first time, but is optional on the rest of the lines. Sticky
numbers keep their value on the rest of the lines if they are not
explicitly programmed to be different. The R number is always sticky.</p></div>
<div class="paragraph"><p>In incremental distance mode X, Y, and R numbers are treated as
increments from the current position and Z as an increment from the
Z-axis position before the move involving Z takes place. In absolute
distance mode, the X, Y, R, and Z numbers are absolute positions in the
current coordinate system.</p></div>
</div>
<div class="sect2">
<h3 id="_repeat_cycle">42.3. Repeat Cycle</h3>
<div class="paragraph"><p>The L number is optional and represents the number of repeats.
L=0 is not allowed. If the repeat feature is used, it is
normally used in incremental distance mode, so that the same sequence
of motions is repeated in several equally spaced places along a
straight line. When L- is greater than 1 in incremental mode with the
XY-plane selected, the X and Y positions are determined by adding the
given X and Y numbers either to the current X and Y positions (on the
first go-around) or to the X and Y positions at the end of the previous
go-around (on the repetitions). Thus, if you program <em>L10</em> , you will
get 10 cycles. The first cycle will be distance X,Y from
the original location. The R and Z positions do not change during the
repeats. The L number is not sticky. In absolute distance mode,
L&gt;1 means <em>do the same cycle in the same place several
times</em>, Omitting the L word is equivalent to specifying L=1.</p></div>
</div>
<div class="sect2">
<h3 id="_retract_mode">42.4. Retract Mode</h3>
<div class="paragraph"><p>The height of the retract move at the end of each repeat (called
<em>clear Z</em> in the descriptions below) is determined by the setting of
the retract mode, either to the original Z position (if that is above
the R position and the retract mode is <em>G98</em>, OLD_Z), or otherwise to
the R position. See the <a href="g-code.html#gcode:g98-g99">G98 G99</a> Section.</p></div>
</div>
<div class="sect2">
<h3 id="gcode:canned-cycle-errors">42.5. Canned Cycle Errors</h3>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
axis words are all missing during a canned cycle,
</p>
</li>
<li>
<p>
axis words from different groups (XYZ) (UVW) are used together,
</p>
</li>
<li>
<p>
a P number is required and a negative P number is used,
</p>
</li>
<li>
<p>
an L number is used that does not evaluate to a positive integer,
</p>
</li>
<li>
<p>
rotary axis motion is used during a canned cycle,
</p>
</li>
<li>
<p>
inverse time feed rate is active during a canned cycle,
</p>
</li>
<li>
<p>
or cutter compensation is active during a canned cycle.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If the XY plane is active, the Z number is sticky, and it is an error
if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the Z number is missing and the same canned cycle was not already
   active,
</p>
</li>
<li>
<p>
or the R number is less than the Z number.
</p>
</li>
</ul></div>
<div class="paragraph"><p>If other planes are active, the error conditions are analogous to the
XY conditions above.</p></div>
</div>
<div class="sect2">
<h3 id="gcode:preliminary-motion">42.6. Preliminary and In-Between Motion</h3>
<div class="paragraph"><p>Preliminary motion is a set of motions that is common to all of the
milling canned cycles. If the current Z position is below the R position,
the Z axis does a <a href="g-code.html#gcode:g0">rapid move</a> to the R position. This happens only
once, regardless of the value of L.</p></div>
<div class="paragraph"><p>In addition, at the beginning of the first cycle and each repeat, the
following one or two moves are made</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
A <a href="g-code.html#gcode:g0">rapid move</a> parallel to the XY-plane to
  the given XY-position,
</p>
</li>
<li>
<p>
The Z-axis make a rapid move to the R position, if it is
  not already at the R position.
</p>
</li>
</ol></div>
<div class="paragraph"><p>If another plane is active, the preliminary and in-between motions are
analogous.</p></div>
</div>
<div class="sect2">
<h3 id="_why_use_a_canned_cycle">42.7. Why use a canned cycle?</h3>
<div class="paragraph"><p>There are at least two reasons for using canned cycles. The first is
the economy of code. A single bore would take several lines of code to
execute.</p></div>
<div class="paragraph"><p>The G81 <a href="g-code.html#gcode:g81-example">Example 1</a> demonstrates how a canned cycle could be
used to produce 8 holes with ten lines of G code within the canned cycle mode.
The program below will produce the same set of 8 holes using five lines
for the canned cycle. It does not follow exactly the same path nor does
it drill in the same order as the earlier example. But the program
writing economy of a good canned cycle should be obvious.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Line numbers are not needed but help clarify these examples</td>
</tr></table>
</div>
<div class="listingblock">
<div class="title">Eight Holes</div>
<div class="content">
<pre><code>N100 G90 G0 X0 Y0 Z0 (move coordinate home)
N110 G1 F10 X0 G4 P0.1
N120 G91 G81 X1 Y0 Z-1 R1 L4(canned drill cycle)
N130 G90 G0 X0 Y1
N140 Z0
N150 G91 G81 X1 Y0 Z-0.5 R1 L4(canned drill cycle)
N160 G80 (turn off canned cycle)
N170 M2 (program end)</code></pre>
</div></div>
<div class="paragraph"><p>The G98 to the second line above means that the return move will be to
the value of Z in the first line since it is higher that the R value
specified.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/eight-holes_en.svg" alt="images/eight-holes_en.svg" />
</div>
</div>
<div class="paragraph"><div class="title">Twelve Holes in a Square</div><p>This example demonstrates the use of the L word to repeat a set of
incremental drill cycles for successive blocks of code within the same
G81 motion mode. Here we produce 12 holes using five lines of code in
the canned motion mode.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>N1000 G90 G0 X0 Y0 Z0 (move coordinate home)
N1010 G1 F50 X0 G4 P0.1
N1020 G91 G81 X1 Y0 Z-0.5 R1 L4 (canned drill cycle)
N1030 X0 Y1 R0 L3 (repeat)
N1040 X-1 Y0 L3 (repeat)
N1050 X0 Y-1 L2 (repeat)
N1060 G80 (turn off canned cycle)
N1070 G90 G0 X0 (rapid move home)
N1080 Y0
N1090 Z0
N1100 M2 (program end)</code></pre>
</div></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/twelve-holes_en.svg" alt="images/twelve-holes_en.svg" />
</div>
</div>
<div class="paragraph"><p>The second reason to use a canned cycle is that they all produce
preliminary moves and returns that you can anticipate and control
regardless of the start point of the canned cycle.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g80">43. G80 Cancel Canned Cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G80</em> - cancel canned cycle modal motion. <em>G80</em> is part of modal group 1,
          so programming any other G code from modal group 1 will also
          cancel the canned cycle.
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
Axis words are programmed when G80 is active.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G80 Example</div>
<div class="content">
<pre><code>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G80 (turn off canned cycle motion)
G0 X0 Y0 Z0 (rapid move to coordinate home)</code></pre>
</div></div>
<div class="paragraph"><p>The following code produces the same final position and machine state as
the previous code.</p></div>
<div class="listingblock">
<div class="title">G0 Example</div>
<div class="content">
<pre><code>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G0 X0 Y0 Z0 (rapid move to coordinate home)</code></pre>
</div></div>
<div class="paragraph"><p>The advantage of the first set is that, the G80 line clearly turns off the
G81 canned cycle. With the first set of blocks, the programmer must turn
motion back on with G0, as is done in the next line, or any other motion
mode G word.</p></div>
<div class="paragraph"><p>If a canned cycle is not turned off with G80 or another motion word, the
canned cycle will attempt to repeat itself using the next block of code
that contains an X, Y, or Z word. The following file drills (G81) a set
of eight holes as shown in the following caption.</p></div>
<div class="listingblock">
<div class="title">G80 Example 1</div>
<div class="content">
<pre><code>N100 G90 G0 X0 Y0 Z0 (coordinate home)
N110 G1 X0 G4 P0.1
N120 G81 X1 Y0 Z0 R1 (canned drill cycle)
N130 X2
N140 X3
N150 X4
N160 Y1 Z0.5
N170 X3
N180 X2
N190 X1
N200 G80 (turn off canned cycle)
N210 G0 X0 (rapid move home)
N220 Y0
N230 Z0
N240 M2 (program end)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Notice the z position change after the first four holes.
Also, this is one of the few places where line numbers have some value,
being able to point a reader to a specific line of code.</td>
</tr></table>
</div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g81mult_en.svg" alt="G80 Cycle" />
</div>
<div class="title">Figure 5. G80 Cycle</div>
</div>
<div class="paragraph"><p>The use of G80 in line N200 is optional because the G0 on the next
line will turn off the G81 cycle. But using the G80 as shown in
Example 1, will provide for easier to read canned cycle. Without it, it
is not so obvious that all of the blocks between N120 and N200 belong
to the canned cycle.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g81">44. G81 Drilling Cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G81 (X- Y- Z-) or (U- V- W-) R- L-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G81</em> cycle is intended for drilling.</p></div>
<div class="paragraph"><p>The cycle functions as follows:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> to the Z
  position.
</p>
</li>
<li>
<p>
The Z-axis does a <a href="g-code.html#gcode:g0">rapid move</a> to clear Z.
</p>
</li>
</ol></div>
<div class="paragraph"><div class="title">Example 1 - Absolute Position G81<a id="gcode:g81-example"></a></div><p>Suppose the current position is (X1, Y2, Z3) and the following line of NC
code is interpreted.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G90</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G98</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G81</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">4</span> <span style="color: #FF6600">Y</span><span style="color: #993399">5</span> <span style="color: #FF6600">Z</span><span style="color: #993399">1.5</span> <span style="color: #FF6600">R</span><span style="color: #993399">2.8</span></tt></pre></div></div>
<div class="paragraph"><p>This calls for absolute distance mode (G90) and OLD_Z retract mode
(G98) and calls for the G81 drilling cycle to be performed once.</p></div>
<div class="paragraph"><p>The X value and X position are 4.</p></div>
<div class="paragraph"><p>The Y value and Y position are 5.</p></div>
<div class="paragraph"><p>The Z value and Z position are 1.5.</p></div>
<div class="paragraph"><p>The R value and clear Z are 2.8. OLD_Z is 3.</p></div>
<div class="paragraph"><p>The following moves take place:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
a <a href="g-code.html#gcode:g0">rapid move</a> parallel to the XY plane to (X4, Y5)
</p>
</li>
<li>
<p>
a rapid move move parallel to the Z-axis to (Z2.8).
</p>
</li>
<li>
<p>
move parallel to the Z-axis at the <a href="other-code.html#sec:set-feed-rate">feed rate</a> to (Z1.5)
</p>
</li>
<li>
<p>
a rapid move parallel to the Z-axis to (Z3)
</p>
</li>
</ol></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g81ex1_en.svg" alt="images/g81ex1_en.svg" />
</div>
</div>
<div class="paragraph"><div class="title">Example 2 - Relative Position G81</div><p>Suppose the current position is (X1, Y2, Z3) and the following line of NC
code is interpreted.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.9
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">G91</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G98</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G81</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">4</span> <span style="color: #FF6600">Y</span><span style="color: #993399">5</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">0.6</span> <span style="color: #FF6600">R</span><span style="color: #993399">1.8</span> <span style="color: #FF6600">L</span><span style="color: #993399">3</span></tt></pre></div></div>
<div class="paragraph"><p>This calls for incremental distance mode (G91) and OLD_Z retract mode
(G98). It also calls for the G81 drilling cycle to be repeated three
times. The X value is 4, the Y value is 5, the Z value is -0.6 and the
R value is 1.8. The initial X position is 5 (=1+4), the initial Y
position is 7 (=2+5), the clear Z position is 4.8 (=1.8+3), and the Z
position is 4.2 (=4.8-0.6). OLD_Z is 3.</p></div>
<div class="paragraph"><p>The first preliminary move is a maximum rapid move along the Z axis to
(X1,Y2,Z4.8), since OLD_Z &lt; clear Z.</p></div>
<div class="paragraph"><p>The first repeat consists of 3 moves.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
a <a href="g-code.html#gcode:g0">rapid move</a> parallel to the XY-plane to (X5, Y7)
</p>
</li>
<li>
<p>
move parallel to the Z-axis at the <a href="other-code.html#sec:set-feed-rate">feed rate</a> to (Z4.2)
</p>
</li>
<li>
<p>
a rapid move parallel to the Z-axis to (X5, Y7, Z4.8)
</p>
</li>
</ol></div>
<div class="paragraph"><p>The second repeat consists of 3 moves. The X position is reset to
 9 (=5+4) and the Y position to 12 (=7+5).</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
a <a href="g-code.html#gcode:g0">rapid move</a> parallel to the XY-plane to (X9, Y12, Z4.8)
</p>
</li>
<li>
<p>
move parallel to the Z-axis at the feed rate to (X9, Y12, Z4.2)
</p>
</li>
<li>
<p>
a rapid move parallel to the Z-axis to (X9, Y12, Z4.8)
</p>
</li>
</ol></div>
<div class="paragraph"><p>The third repeat consists of 3 moves. The X position is reset to
 13 (=9+4) and the Y position to 17 (=12+5).</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
a <a href="g-code.html#gcode:g0">rapid move</a> parallel to the XY-plane to (X13, Y17, Z4.8)
</p>
</li>
<li>
<p>
move parallel to the Z-axis at the feed rate to (X13, Y17, Z4.2)
</p>
</li>
<li>
<p>
a rapid move parallel to the Z-axis to (X13, Y17, Z4.8)
</p>
</li>
</ol></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g81ex2_en.svg" alt="images/g81ex2_en.svg" />
</div>
</div>
<div class="paragraph"><div class="title">Example 3 - Relative Position G81</div><p>Now suppose that you execute the first G81 block of code but from (X0,
Y0, Z0) rather than from (X1, Y2, Z3).</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G90 G98 G81 X4 Y5 Z1.5 R2.8</code></pre>
</div></div>
<div class="paragraph"><p>Since OLD_Z is below the R value, it adds
nothing for the motion but since the initial value of Z is less than
the value specified in R, there will be an initial Z move during the
preliminary moves.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g81_en.svg" alt="images/g81_en.svg" />
</div>
</div>
<div class="paragraph"><div class="title">Example 4 - Absolute G81 R &gt; Z</div><p>This is a plot of the path of motion for the second g81 block of code.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>G91 G98 G81 X4 Y5 Z-0.6 R1.8 L3</code></pre>
</div></div>
<div class="paragraph"><p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the
initial Z0 and R1.8 and rapid moves to that location. After that initial Z
move, the repeat feature works the same as it did in example 3 with the
final Z depth being 0.6 below the R value.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/g81a_en.svg" alt="images/g81a_en.svg" />
</div>
</div>
<div class="listingblock">
<div class="title">Example 5 - Relative position R &gt; Z</div>
<div class="content">
<pre><code>G90 G98 G81 X4 Y5 Z-0.6 R1.8</code></pre>
</div></div>
<div class="paragraph"><p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the initial Z0
and R1.8 and rapid moves to that location as in <em>Example 4</em>. After that initial Z
move, the <a href="g-code.html#gcode:g0">rapid move</a> to X4 Y5 is done. Then the final Z
depth being 0.6 below the R value. The repeat function would make the Z move
in the same location again.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g82">45. G82 Drilling Cycle, Dwell</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G82 (X- Y- Z-) or (U- V- W-) R- L- P-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G82</em> cycle is intended for drilling with a dwell at the bottom of
the hole.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> to the Z position.
</p>
</li>
<li>
<p>
Dwell for the P number of seconds.
</p>
</li>
<li>
<p>
The Z-axis does a <a href="g-code.html#gcode:g0">rapid move</a> to clear Z.
</p>
</li>
</ol></div>
<div class="paragraph"><p>The motion of a G82 canned cycle looks just like G81 with the
addition of a dwell at the bottom of the Z move. The length of
the dwell is specified by a <em>P-</em> word in the G82 block.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g83">46. G83 Peck Drilling Cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G83 (X- Y- Z-) or (U- V- W-) R- L- Q-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G83</em> cycle (often called peck drilling) is intended for deep
drilling or
milling with chip breaking. The retracts in this cycle clear the hole
of chips and cut off any long stringers (which are common when drilling
in aluminum). This cycle takes a Q number which represents a <em>delta</em>
increment along the Z-axis. The retract before final depth will always
be to the <em>retract</em> plane even if G98 is in effect. The final retract will
honor the G98/99 in effect. G83 functions the same as G81 with the addition
of retracts during the drilling operation.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> downward by
   delta or to the Z position, whichever is less deep.
</p>
</li>
<li>
<p>
Rapid move back out to the retract plane specified by the R word.
</p>
</li>
<li>
<p>
Rapid move back down to the current hole bottom, backed off a bit.
</p>
</li>
<li>
<p>
Repeat steps 2, 3, and 4 until the Z position is reached at step 2.
</p>
</li>
<li>
<p>
The Z-axis does a <a href="g-code.html#gcode:g0">rapid move</a> to clear Z.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the Q number is negative or zero.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g84">47. G84 Right-hand Tapping Cycle, Dwell</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G84 (X- Y- Z-) or (U- V- W-) R- L- P- $- F-</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>R-</em> - Retract position along the Z axis.
</p>
</li>
<li>
<p>
<em>L-</em> - Used in incremental mode; number of times to repeat the cycle. See <a href="g-code.html#gcode:g81">G81</a> for examples.
</p>
</li>
<li>
<p>
<em>P-</em> - Dwell time (seconds).
</p>
</li>
<li>
<p>
<em>$-</em> - Selected spindle.
</p>
</li>
<li>
<p>
<em>F-</em> - Feed rate (spindle speed multiplied by distance traveled per revolution (thread pitch)).
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">G84 does not use synchronized motion.</td>
</tr></table>
</div>
<div class="paragraph"><p>The <em>G84</em> cycle is intended for tapping with floating chuck and dwell at the bottom of the hole.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
       <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Disable Feed and Speed Overrides.
</p>
</li>
<li>
<p>
Move the Z-axis at the current feed rate to the Z position.
</p>
</li>
<li>
<p>
Stop the selected spindle (chosen by the $ parameter)
</p>
</li>
<li>
<p>
Start spindle rotation counterclockwise.
</p>
</li>
<li>
<p>
Dwell for the P number of seconds.
</p>
</li>
<li>
<p>
Move the Z-axis at the current feed rate to clear Z
</p>
</li>
<li>
<p>
Restore Feed and Speed override enables to previous state
</p>
</li>
</ol></div>
<div class="paragraph"><p>The length of the dwell is specified by a <em>P-</em> word in the G84 block. The feed rate <em>F-</em> is spindle speed multiplied by distance per revolution (thread pitch).
In example S100 with 1.25MM per revolution thread pitch gives a feed of F125.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g85">48. G85 Boring Cycle, Feed Out</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G85 (X- Y- Z-) or (U- V- W-) R- L-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G85</em> cycle is intended for boring or reaming, but could be used
for drilling or milling.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis only at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> to the Z
   position.
</p>
</li>
<li>
<p>
Retract the Z-axis at the current feed rate to the R plane if it is lower
 than the initial Z.
</p>
</li>
<li>
<p>
Retract at the traverse rate to clear Z.
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g86">49. G86 Boring Cycle, Spindle Stop, Rapid Move Out</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G86 (X- Y- Z-) or (U- V- W-) R- L- P- $-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G86</em> cycle is intended for boring. This cycle uses a P number
for the number of seconds to dwell.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis only at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> to the Z
   position.
</p>
</li>
<li>
<p>
Dwell for the P number of seconds.
</p>
</li>
<li>
<p>
Stop the selected spindle turning. (Chosen by the $ parameter)
</p>
</li>
<li>
<p>
The Z-axis does a <a href="g-code.html#gcode:g0">rapid move</a> to clear Z.
</p>
</li>
<li>
<p>
Restart the spindle in the direction it was going.
</p>
</li>
</ol></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
the spindle is not turning before this cycle is executed.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_g87_back_boring_cycle">50. G87 Back Boring Cycle</h2>
<div class="sectionbody">
<div class="paragraph"><p>This code is currently unimplemented in LinuxCNC. It is accepted, but the
behavior is undefined.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_g88_boring_cycle_spindle_stop_manual_out">51. G88 Boring Cycle, Spindle Stop, Manual Out</h2>
<div class="sectionbody">
<div class="paragraph"><p>This code is currently unimplemented in LinuxCNC. It is accepted, but the
behavior is undefined.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g89">52. G89 Boring Cycle, Dwell, Feed Out</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G89 (X- Y- Z-) or (U- V- W-) R- L- P-</code></pre>
</div></div>
<div class="paragraph"><p>The <em>G89</em> cycle is intended for boring. This cycle uses a P number,
where P specifies the number of seconds to dwell.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Preliminary motion, as described in the
   <a href="g-code.html#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.
</p>
</li>
<li>
<p>
Move the Z-axis only at the current <a href="other-code.html#sec:set-feed-rate">feed rate</a> to the Z
   position.
</p>
</li>
<li>
<p>
Dwell for the P number of seconds.
</p>
</li>
<li>
<p>
Retract the Z-axis at the current feed rate to clear Z.
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g90-g91">53. G90, G91 Distance Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G90</em> - absolute distance mode In absolute
  distance mode, axis numbers (X, Y, Z, A, B, C, U, V, W)
  usually represent positions in terms of the currently active
  coordinate system. Any exceptions to that rule are described
  explicitly in the <a href="g-code.html#gcode:g80-g89">G80 G89</a> Section.
</p>
</li>
<li>
<p>
<em>G91</em> - incremental distance mode In incremental
  distance mode, axis numbers usually represent
  increments from the current coordinate.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G90 Example</div>
<div class="content">
<pre><code>G90 (set absolute distance mode)
G0 X2.5 (rapid move to coordinate X2.5 including any offsets in effect)</code></pre>
</div></div>
<div class="listingblock">
<div class="title">G91 Example</div>
<div class="content">
<pre><code>G91 (set incremental distance mode)
G0 X2.5 (rapid move 2.5 from current position along the X axis)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See <a href="g-code.html#gcode:g0">G0</a> section for more information.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g90.1-g91.1">54. G90.1, G91.1 Arc Distance Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G90.1</em> - absolute distance mode for I, J &amp; K offsets.
  When G90.1 is in effect I and J both must be specified with G2/3
  for the XY plane or J and K for the XZ plane or it is an error.
</p>
</li>
<li>
<p>
<em>G91.1</em> - incremental distance mode for I, J &amp; K offsets. G91.1 Returns
  I, J &amp; K to their default behavior.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g92">55. G92 Coordinate System Offset</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G92 axes</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">Only use <em>G92</em> after your machine has been positioned to the desired point.</td>
</tr></table>
</div>
<div class="paragraph"><p><em>G92</em> makes the current point have the coordinates you want (without
motion), where the axis words contain the axis numbers you want.
All axis words are optional, except that at least one must be used.
If an axis word is not used for a given axis, the offset for that axis
will be zero.</p></div>
<div class="paragraph"><p>When <em>G92</em> is executed, the <a href="coordinates.html#sec.machine-coordinate-system">origins</a>
of all coordinate systems move. They move such that the value of the
current controlled point, in the currently active coordinate system,
becomes the specified value. All of the coordinate system&#8217;s origins
(G53-G59.3) are offset this same distance.</p></div>
<div class="paragraph"><p><em>G92</em> uses the values stored in <a href="overview.html#sub:numbered-parameters">parameters</a>
5211-5219 as the X Y Z A B C U V W offset values for each axis.
The parameter values are <em>absolute</em> machine coordinates
in the native machine <em>units</em> as specified in the ini file.
All axes defined in the ini file will be offset when G92 is active.
If an axis was not entered following the G92, that axis' offset
will be zero.</p></div>
<div class="paragraph"><p>For example, suppose the current point is at X=4 and there is
currently no <em>G92</em> offset active. Then <em>G92 X7</em> is programmed. This
moves all origins -3 in X, which causes the
current point to become X=7. This -3 is saved in parameter 5211.</p></div>
<div class="paragraph"><p>Being in incremental distance mode (G91 instead of G90) has no effect
on the action of <em>G92</em>.</p></div>
<div class="paragraph"><p><em>G92</em> offsets may be already be in effect when the <em>G92</em> is called.
If this is the case, the offset is replaced with a new
offset that makes the current point become the specified value.</p></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
all axis words are omitted.
</p>
</li>
</ul></div>
<div class="paragraph"><p>LinuxCNC stores the G92 offsets and reuses them on the next run of a
program. To prevent this, one can program a G92.1 (to erase them), or
program a G92.2 (to remove them - they are still stored).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The <em>G52</em> command can also be used to change this offset; see the
<a href="coordinates.html#sec:g52-and-g92-offsets">Offsets</a> Section for more details about
<em>G92</em> and <em>G52</em> and how they interact.</td>
</tr></table>
</div>
<div class="paragraph"><p>See the <a href="coordinates.html#cha:coordinate-system">Coordinate System</a> Section for an
overview of coordinate systems.</p></div>
<div class="paragraph"><p>See the <a href="overview.html#gcode:parameters">Parameters</a> Section for more information.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g92.1-g92.2">56. G92.1, G92.2 Reset G92 Offsets</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<em>G92.1</em> - turn off G92 offsets and reset <a href="overview.html#sub:numbered-parameters">parameters</a> 5211 - 5219 to zero.
</p>
</li>
<li>
<p>
<em>G92.2</em> - turn off G92 offsets but keep <a href="overview.html#sub:numbered-parameters">parameters</a> 5211 - 5219 available.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">G92.1 only clears G92 offsets, to change G53-G59.3 coordinate system offsets
in G code use either <a href="g-code.html#gcode:g10-l2">G10 L2</a> or <a href="g-code.html#gcode:g10-l20">G10 L20</a>.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g92.3">57. G92.3 Restore G92 Offsets</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G92.3</em> - set the G92 offset to the values saved in parameters 5211 to 5219
</p>
</li>
</ul></div>
<div class="paragraph"><p>You can set axis offsets in one program and use the same offsets in
another program. Program <em>G92</em> in the first program. This will set
parameters 5211 to 5219. Do not use <em>G92.1</em> in the remainder of the
first program. The parameter values will be saved when the first
program exits and restored when the second one starts up.
Use <em>G92.3</em> near the beginning of the second program. That will restore
the offsets saved in the first program.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g93-g94-g95">58. G93, G94, G95 Feed Rate Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G93</em> - is Inverse Time Mode. In inverse time feed rate mode, an F word
  means the move should be completed in [one divided by the F number]
  minutes. For example, if the F number is 2.0, the move should be
  completed in half a minute.
</p>
<div class="paragraph"><p>When the inverse time feed rate mode is active, an F word must appear
on every line which has a G1, G2, or G3 motion, and an F word on a line
that does not have G1, G2, or G3 is ignored. Being in inverse time feed
rate mode does not affect G0 (<a href="g-code.html#gcode:g0">rapid move</a>) motions.</p></div>
</li>
<li>
<p>
<em>G94</em> - is Units per Minute Mode.
In units per minute feed mode, an F word is interpreted to mean
the controlled point should move at a certain number of inches per
minute, millimeters per minute, or degrees per minute, depending upon
what length units are being used and which axis or axes are moving.
</p>
</li>
<li>
<p>
<em>G95</em> - is Units per Revolution Mode
In units per revolution mode, an F word is interpreted to mean the
controlled point should move a certain number of inches per revolution
of the spindle, depending on what length units are being used and which
axis or axes are moving. G95 is not suitable for threading, for
threading use G33 or G76.
G95 requires that spindle.N.speed-in to be connected. The actual spindle
to which the feed is synchronised is chosen by the $ parameter
</p>
</li>
</ul></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
Inverse time feed mode is active and a line with G1, G2, or G3
   (explicitly or implicitly) does not have an F word.
</p>
</li>
<li>
<p>
A new feed rate is not specified after switching to G94 or G95
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g96-g97">59. G96, G97 Spindle Control Mode</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="listingblock">
<div class="content">
<pre><code>G96 &lt;D-&gt; S- &lt;$-&gt; (Constant Surface Speed Mode)
G97 S- &lt;$-&gt; (RPM Mode)</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
<em>D</em> - maximum spindle RPM
</p>
</li>
<li>
<p>
<em>S</em> - surface speed
</p>
</li>
<li>
<p>
'$" - the spindle of which the speed will be varied.
</p>
</li>
<li>
<p>
<em>G96 D- S-</em> - selects constant surface speed of <em>S</em> feet per minute
                (if G20 is in effect) or meters per minute
                (if G21 is in effect). D- is optional.
</p>
<div class="paragraph"><p>When using G96, ensure that X0 in
the current coordinate system (including offsets and tool lengths) is
the center of rotation or LinuxCNC will not give the desired ssurface speed.
G96 is not affected by radius or diameter mode.</p></div>
</li>
</ul></div>
<div class="paragraph"><p>To achieve CSS mode on selected spindles programme successive G96 commands
for each spindle prior to issuing M3.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G97</em> selects RPM mode.
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="title">G96 Example Line</div>
<div class="content">
<pre><code>G96 D2500 S250 (set CSS with a max rpm of 2500 and a surface speed of 250)</code></pre>
</div></div>
<div class="paragraph"><p>It is an error if:</p></div>
<div class="ulist"><ul>
<li>
<p>
S is not specified with G96
</p>
</li>
<li>
<p>
A feed move is specified in G96 mode while the spindle is not turning
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="gcode:g98-g99">60. G98, G99 Canned Cycle Return Level</h2>
<div class="sectionbody">
<div class="paragraph"><p></p></div>
<div class="ulist"><ul>
<li>
<p>
<em>G98</em> - retract to the position that axis was in just before this series
of one or more contiguous canned cycles was started.
</p>
</li>
<li>
<p>
<em>G99</em> - retract to the position specified by the R word of the canned cycle.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Program a <em>G98</em> and the canned cycle will use the Z position prior to
the canned cycle as the Z return position if it is higher than the R
value specified in the cycle. If it is lower, the R value will be
used. The R word has different meanings in absolute distance mode and
incremental distance mode.</p></div>
<div class="listingblock">
<div class="title">G98 Retract to Origin</div>
<div class="content">
<pre><code>G0 X1 Y2 Z3
G90 G98 G81 X4 Y5 Z-0.6 R1.8 F10</code></pre>
</div></div>
<div class="paragraph"><p>The G98 to the second line above means that the return move will be to
the value of Z in the first line since it is higher that the R value
specified.</p></div>
<div class="paragraph"><p>The <em>initial</em> (G98) plane is reset any time cycle motion mode is
abandoned, whether explicitly (G80) or implicitly (any motion code
that is not a cycle). Switching among cycle modes (say G81
to G83) does NOT reset the <em>initial</em> plane. It is possible to switch
between G98 and G99 during a series of cycles.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2021-11-20 04:12:52 CET
</div>
</div>
</body>
</html>
